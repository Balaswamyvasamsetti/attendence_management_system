{"ast":null,"code":"var _jsxFileName = \"C:\\\\lab\\\\2ndsem\\\\frontendlab\\\\project\\\\attendance-system\\\\client\\\\src\\\\components\\\\FacultyDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Form, Button, Table } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction FacultyDashboard({\n  user\n}) {\n  _s();\n  const [classes, setClasses] = useState([]);\n  const [selectedClass, setSelectedClass] = useState('');\n  const [students, setStudents] = useState([]);\n  const [attendance, setAttendance] = useState({});\n  useEffect(() => {\n    const fetchClasses = async () => {\n      try {\n        const res = await axios.get('http://localhost:5000/api/classes', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        setClasses(res.data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    fetchClasses();\n  }, []);\n  const handleClassSelect = async e => {\n    const className = e.target.value;\n    setSelectedClass(className);\n    try {\n      const res = await axios.get(`http://localhost:5000/api/users?class=${className}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setStudents(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const handleAttendanceChange = (studentId, status) => {\n    setAttendance({\n      ...attendance,\n      [studentId]: status\n    });\n  };\n  const submitAttendance = async () => {\n    try {\n      for (const [studentId, status] of Object.entries(attendance)) {\n        var _classes$find;\n        await axios.post('http://localhost:5000/api/attendance', {\n          studentId,\n          class: selectedClass,\n          subject: ((_classes$find = classes.find(c => c.name === selectedClass)) === null || _classes$find === void 0 ? void 0 : _classes$find.subject) || 'General',\n          status\n        }, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n      }\n      alert('Attendance submitted');\n    } catch (err) {\n      alert('Failed to submit attendance');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Welcome, \", user.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Select Class\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n        value: selectedClass,\n        onChange: handleClassSelect,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"--Select--\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), classes.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c.name,\n          children: [c.name, \" - \", c.subject]\n        }, c._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), students.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Mark Attendance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Student Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: students.map(student => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: student.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n                type: \"radio\",\n                label: \"Present\",\n                name: `attendance-${student._id}`,\n                onChange: () => handleAttendanceChange(student.studentId, 'present')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n                type: \"radio\",\n                label: \"Absent\",\n                name: `attendance-${student._id}`,\n                onChange: () => handleAttendanceChange(student.studentId, 'absent')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this)]\n          }, student._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: submitAttendance,\n        children: \"Submit Attendance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(FacultyDashboard, \"fTxjRkRDSU/txaKdVotZuEV4k+0=\");\n_c = FacultyDashboard;\nexport default FacultyDashboard;\nvar _c;\n$RefreshReg$(_c, \"FacultyDashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","Form","Button","Table","jsxDEV","_jsxDEV","Fragment","_Fragment","FacultyDashboard","user","_s","classes","setClasses","selectedClass","setSelectedClass","students","setStudents","attendance","setAttendance","fetchClasses","res","get","headers","Authorization","localStorage","getItem","data","err","console","error","handleClassSelect","e","className","target","value","handleAttendanceChange","studentId","status","submitAttendance","Object","entries","_classes$find","post","class","subject","find","c","name","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","Group","Label","Select","onChange","map","_id","length","striped","bordered","hover","student","Check","type","label","variant","onClick","_c","$RefreshReg$"],"sources":["C:/lab/2ndsem/frontendlab/project/attendance-system/client/src/components/FacultyDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Form, Button, Table } from 'react-bootstrap';\r\n\r\nfunction FacultyDashboard({ user }) {\r\n  const [classes, setClasses] = useState([]);\r\n  const [selectedClass, setSelectedClass] = useState('');\r\n  const [students, setStudents] = useState([]);\r\n  const [attendance, setAttendance] = useState({});\r\n\r\n  useEffect(() => {\r\n    const fetchClasses = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/classes', {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n        });\r\n        setClasses(res.data);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    fetchClasses();\r\n  }, []);\r\n\r\n  const handleClassSelect = async (e) => {\r\n    const className = e.target.value;\r\n    setSelectedClass(className);\r\n    try {\r\n      const res = await axios.get(`http://localhost:5000/api/users?class=${className}`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n      });\r\n      setStudents(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleAttendanceChange = (studentId, status) => {\r\n    setAttendance({ ...attendance, [studentId]: status });\r\n  };\r\n\r\n  const submitAttendance = async () => {\r\n    try {\r\n      for (const [studentId, status] of Object.entries(attendance)) {\r\n        await axios.post(\r\n          'http://localhost:5000/api/attendance',\r\n          {\r\n            studentId,\r\n            class: selectedClass,\r\n            subject: classes.find((c) => c.name === selectedClass)?.subject || 'General',\r\n            status\r\n          },\r\n          { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }\r\n        );\r\n      }\r\n      alert('Attendance submitted');\r\n    } catch (err) {\r\n      alert('Failed to submit attendance');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h2>Welcome, {user.name}</h2>\r\n      <Form.Group className=\"mb-3\">\r\n        <Form.Label>Select Class</Form.Label>\r\n        <Form.Select value={selectedClass} onChange={handleClassSelect}>\r\n          <option value=\"\">--Select--</option>\r\n          {classes.map((c) => (\r\n            <option key={c._id} value={c.name}>\r\n              {c.name} - {c.subject}\r\n            </option>\r\n          ))}\r\n        </Form.Select>\r\n      </Form.Group>\r\n      {students.length > 0 && (\r\n        <>\r\n          <h3>Mark Attendance</h3>\r\n          <Table striped bordered hover>\r\n            <thead>\r\n              <tr>\r\n                <th>Student Name</th>\r\n                <th>Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {students.map((student) => (\r\n                <tr key={student._id}>\r\n                  <td>{student.name}</td>\r\n                  <td>\r\n                    <Form.Check\r\n                      type=\"radio\"\r\n                      label=\"Present\"\r\n                      name={`attendance-${student._id}`}\r\n                      onChange={() => handleAttendanceChange(student.studentId, 'present')}\r\n                    />\r\n                    <Form.Check\r\n                      type=\"radio\"\r\n                      label=\"Absent\"\r\n                      name={`attendance-${student._id}`}\r\n                      onChange={() => handleAttendanceChange(student.studentId, 'absent')}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n          <Button variant=\"primary\" onClick={submitAttendance}>\r\n            Submit Attendance\r\n          </Button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FacultyDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}