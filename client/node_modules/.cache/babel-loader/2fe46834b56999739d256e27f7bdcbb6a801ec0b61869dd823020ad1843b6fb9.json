{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Form,Button,Table,Modal,Card,Alert,Tab,Tabs}from'react-bootstrap';import{Bar}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);function StudentDashboard(_ref){let{user,setUser}=_ref;const[attendance,setAttendance]=useState([]);const[profile,setProfile]=useState({name:user.name,email:user.email,studentId:user.studentId,branch:user.branch,section:user.section,profilePicture:user.profilePicture||''});const[schedule,setSchedule]=useState([]);const[notes,setNotes]=useState(localStorage.getItem(`notes_${user._id}`)||'');const[notifications,setNotifications]=useState([]);const[showProfileModal,setShowProfileModal]=useState(false);const[announcements,setAnnouncements]=useState([]);const[leaveRequest,setLeaveRequest]=useState({reason:'',fromDate:'',toDate:'',proof:null});const[showLeaveModal,setShowLeaveModal]=useState(false);const[leaveRequests,setLeaveRequests]=useState([]);// New state for leave requests\nuseEffect(()=>{const fetchAttendance=async()=>{try{const res=await axios.get(`http://localhost:5000/api/attendance?studentId=${user.studentId}`);setAttendance(res.data);checkAndNotifyAttendance(res.data);}catch(err){var _err$response,_err$response$data;addNotification('Failed to fetch attendance: '+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.msg)||err.message),'error');}};const fetchSchedule=async()=>{try{const res=await axios.get('http://localhost:5000/api/schedule');setSchedule(res.data);}catch(err){var _err$response2,_err$response2$data;addNotification('Failed to fetch schedule: '+(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.msg)||err.message),'error');}};const fetchAnnouncements=async()=>{try{const res=await axios.get('http://localhost:5000/api/announcements');setAnnouncements(res.data);}catch(err){var _err$response3,_err$response3$data;addNotification('Failed to fetch announcements: '+(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.msg)||err.message),'error');}};const fetchLeaveRequests=async()=>{try{const res=await axios.get(`http://localhost:5000/api/leave-request?studentId=${user._id}`);setLeaveRequests(res.data);}catch(err){var _err$response4,_err$response4$data;addNotification('Failed to fetch leave requests: '+(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.msg)||err.message),'error');}};fetchAttendance();fetchSchedule();fetchAnnouncements();fetchLeaveRequests();},[user.studentId,user._id]);const addNotification=function(msg){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';const id=Date.now();setNotifications(prev=>[...prev,{id,msg,type}]);setTimeout(()=>{setNotifications(prev=>prev.filter(n=>n.id!==id));},5000);};const checkAndNotifyAttendance=attendanceData=>{const today=new Date().toISOString().split('T')[0];const todayRecord=attendanceData.find(a=>new Date(a.date).toISOString().split('T')[0]===today);if(todayRecord&&todayRecord.status==='absent'){addNotification(`You were marked absent today (${today}). Please inform your teacher if this is incorrect.`,'warning');}else if(todayRecord&&todayRecord.status==='present'){addNotification(`You were marked present today (${today}).`,'success');}};const handleProfileUpdate=async e=>{e.preventDefault();try{const updatedUser={...user,name:profile.name,email:profile.email,studentId:profile.studentId,branch:profile.branch,section:profile.section,profilePicture:profile.profilePicture};localStorage.setItem('user',JSON.stringify(updatedUser));setUser(updatedUser);setShowProfileModal(false);addNotification('Profile updated successfully!');}catch(err){var _err$response5,_err$response5$data;addNotification('Failed to update profile: '+(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.msg)||err.message),'error');}};const handleProfilePictureChange=e=>{const file=e.target.files[0];if(file){const reader=new FileReader();reader.onloadend=()=>{setProfile({...profile,profilePicture:reader.result});};reader.readAsDataURL(file);}};const calculateAttendancePercentage=()=>{if(attendance.length===0)return 0;const presentCount=attendance.filter(a=>a.status==='present').length;return(presentCount/attendance.length*100).toFixed(2);};const handleNotesChange=e=>{setNotes(e.target.value);localStorage.setItem(`notes_${user._id}`,e.target.value);};const exportAttendance=()=>{const csv=['Date,Subject,Status',...attendance.map(a=>`${new Date(a.date).toLocaleDateString()},${a.subject||'N/A'},${a.status}`)].join('\\n');const blob=new Blob([csv],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=`attendance_${user.studentId}_${new Date().toISOString().split('T')[0]}.csv`;a.click();window.URL.revokeObjectURL(url);addNotification('Attendance exported successfully!','success');};const handleLeaveChange=e=>{const{name,value,files}=e.target;if(name==='proof'){setLeaveRequest({...leaveRequest,proof:files[0]});}else{setLeaveRequest({...leaveRequest,[name]:value});}};const submitLeaveRequest=async e=>{e.preventDefault();try{if(!leaveRequest.proof){addNotification('Please upload a proof document for the leave request.','error');return;}// Fetch all faculty members\nconst facultyRes=await axios.get('http://localhost:5000/api/users?role=faculty');const facultyList=facultyRes.data;if(!facultyList||facultyList.length===0){addNotification('No faculty members available. Please contact the administrator.','error');return;}const facultyIds=facultyList.map(faculty=>faculty._id);// Prepare form data for file upload\nconst formData=new FormData();formData.append('studentId',user._id);// Send MongoDB _id\nformData.append('studentCode',user.studentId);// Send string student ID\nformData.append('section',user.section);formData.append('facultyIds',JSON.stringify(facultyIds));formData.append('reason',leaveRequest.reason);formData.append('fromDate',leaveRequest.fromDate);formData.append('toDate',leaveRequest.toDate);formData.append('proof',leaveRequest.proof);// Send leave request\nawait axios.post('http://localhost:5000/api/leave-request',formData,{headers:{'Content-Type':'multipart/form-data'}});setLeaveRequest({reason:'',fromDate:'',toDate:'',proof:null});setShowLeaveModal(false);addNotification('Leave request submitted successfully to all faculty!','success');// Refresh leave requests\nconst res=await axios.get(`http://localhost:5000/api/leave-request?studentId=${user._id}`);setLeaveRequests(res.data);}catch(err){var _err$response6,_err$response7,_err$response7$data;console.error('Leave Request Error:',((_err$response6=err.response)===null||_err$response6===void 0?void 0:_err$response6.data)||err.message);addNotification('Failed to submit leave request: '+(((_err$response7=err.response)===null||_err$response7===void 0?void 0:(_err$response7$data=_err$response7.data)===null||_err$response7$data===void 0?void 0:_err$response7$data.msg)||err.message),'error');}};const attendanceData={labels:attendance.map(a=>new Date(a.date).toLocaleDateString()),datasets:[{label:'Attendance Status',data:attendance.map(a=>a.status==='present'?1:0),backgroundColor:context=>{const chart=context.chart;const{ctx,data,chartArea}=chart;if(!chartArea)return null;return attendance.map(a=>a.status==='present'?'#4CAF50':'#F44336');},borderColor:'#ffffff',borderWidth:1}]};const options={responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:'Attendance Trend',color:'#ffffff'}},scales:{x:{ticks:{color:'#ffffff'}},y:{beginAtZero:true,max:1,ticks:{color:'#ffffff',stepSize:1,callback:value=>value===1?'Present':'Absent'}}}};const monthlyAttendanceData={labels:Array.from({length:12},(_,i)=>`${i+1}/2025`),datasets:[{label:'Monthly Attendance (%)',data:Array(12).fill().map((_,i)=>{const monthAttendance=attendance.filter(a=>new Date(a.date).getMonth()===i);return monthAttendance.length?(monthAttendance.filter(a=>a.status==='present').length/monthAttendance.length*100).toFixed(2):0;}),backgroundColor:'#2196F3',borderColor:'#ffffff',borderWidth:1}]};const monthlyOptions={responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:'Monthly Attendance Trends',color:'#ffffff'}},scales:{x:{ticks:{color:'#ffffff'}},y:{beginAtZero:true,max:100,ticks:{color:'#ffffff',stepSize:10,callback:value=>`${value}%`}}}};const examSchedule=[{examType:'Regular',datesheettype:'final',courseCode:'24CAT-673',courseName:'ARTIFICIAL INTELLIGENCE',slotNo:5,uid:'24MC110250',newSlotNo:'',examDate:'02 May 2025',examTiming:'09:30',examVenue:'Offline',errorReporting:'',rescheduleReply:''},{examType:'Regular',datesheettype:'final',courseCode:'24CAH-655',courseName:'FRONT END TECHNOLOGIES',slotNo:21,uid:'24MC110250',newSlotNo:'',examDate:'12 May 2025',examTiming:'09:30',examVenue:'Offline',errorReporting:'',rescheduleReply:''},{examType:'Regular',datesheettype:'final',courseCode:'24TDT-661',courseName:'APTITUDE-I',slotNo:40,uid:'24MC110250',newSlotNo:'',examDate:'22 May 2025',examTiming:'13:30',examVenue:'Online',errorReporting:'',rescheduleReply:''},{examType:'Regular',datesheettype:'final',courseCode:'24CAT-671',courseName:'MACHINE LEARNING',slotNo:1,uid:'24MC110250',newSlotNo:'',examDate:'30 Apr 2025',examTiming:'09:30',examVenue:'Offline',errorReporting:'',rescheduleReply:''}];return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",profile.name]}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",className:\"mb-3\",onClick:()=>setShowProfileModal(true),children:\"Edit Profile\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"mb-3 ms-2\",onClick:()=>setShowLeaveModal(true),children:\"Apply for Leave\"}),/*#__PURE__*/_jsx(Button,{variant:\"info\",className:\"mb-3 ms-2\",onClick:exportAttendance,children:\"Export Attendance\"}),notifications.map(notif=>/*#__PURE__*/_jsx(Alert,{variant:notif.type==='success'?'success':notif.type==='warning'?'warning':'danger',onClose:()=>setNotifications(prev=>prev.filter(n=>n.id!==notif.id)),dismissible:true,children:notif.msg},notif.id)),/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"profile\",className:\"mb-4\",children:[/*#__PURE__*/_jsxs(Tab,{eventKey:\"profile\",title:\"Profile\",children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Profile Details\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",profile.email||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Student ID:\"}),\" \",profile.studentId||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Branch:\"}),\" \",profile.branch||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Section:\"}),\" \",profile.section||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Attendance:\"}),\" \",calculateAttendancePercentage(),\"%\"]})]})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Notes\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:5,value:notes,onChange:handleNotesChange,placeholder:\"Add your notes here...\"})]})})]}),/*#__PURE__*/_jsxs(Tab,{eventKey:\"attendance\",title:\"Attendance\",children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Attendance Records\"}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:attendance.map(record=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(record.date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:record.subject||'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{color:record.status==='present'?'green':'red'},children:record.status})]},record._id))})]})]})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Attendance Trend\"}),/*#__PURE__*/_jsx(Bar,{data:attendanceData,options:options})]})}),/*#__PURE__*/_jsx(Card,{className:\"mt-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Monthly Attendance Trends\"}),/*#__PURE__*/_jsx(Bar,{data:monthlyAttendanceData,options:monthlyOptions})]})})]}),/*#__PURE__*/_jsx(Tab,{eventKey:\"schedule\",title:\"Schedule\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Class Schedule\"}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Day\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:schedule.map(classItem=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:classItem.day}),/*#__PURE__*/_jsx(\"td\",{children:classItem.time}),/*#__PURE__*/_jsx(\"td\",{children:classItem.subject})]},classItem._id))})]})]})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"announcements\",title:\"Announcements\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Announcements\"}),announcements.length>0?/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Content\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:announcements.map(ann=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:ann.title}),/*#__PURE__*/_jsx(\"td\",{children:ann.content}),/*#__PURE__*/_jsx(\"td\",{children:new Date(ann.createdAt).toLocaleDateString()})]},ann._id))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No announcements available.\"}),/*#__PURE__*/_jsx(Card,{className:\"mt-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Exam Schedule\"}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Exam Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Datesheet Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Course Code\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Course Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Slot No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"UID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Exam Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Exam Timing\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Exam Venue\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:examSchedule.map((exam,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:exam.examType}),/*#__PURE__*/_jsx(\"td\",{children:exam.datesheettype}),/*#__PURE__*/_jsx(\"td\",{children:exam.courseCode}),/*#__PURE__*/_jsx(\"td\",{children:exam.courseName}),/*#__PURE__*/_jsx(\"td\",{children:exam.slotNo}),/*#__PURE__*/_jsx(\"td\",{children:exam.uid}),/*#__PURE__*/_jsx(\"td\",{children:exam.examDate}),/*#__PURE__*/_jsx(\"td\",{children:exam.examTiming}),/*#__PURE__*/_jsx(\"td\",{children:exam.examVenue})]},index))})]})]})})]})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"leave-requests\",title:\"Leave Requests\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Leave Requests\"}),leaveRequests.length>0?/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Reason\"}),/*#__PURE__*/_jsx(\"th\",{children:\"From Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"To Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Proof\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:leaveRequests.map(request=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:request.reason}),/*#__PURE__*/_jsx(\"td\",{children:new Date(request.fromDate).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:new Date(request.toDate).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{style:{color:request.status==='approved'?'green':request.status==='rejected'?'red':'orange'},children:request.status}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:`http://localhost:5000/${request.proof}`,target:\"_blank\",rel:\"noopener noreferrer\",children:\"View Proof\"})})]},request._id))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No leave requests submitted.\"})]})})})]}),/*#__PURE__*/_jsxs(Modal,{show:showProfileModal,onHide:()=>setShowProfileModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Edit Profile\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleProfileUpdate,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:profile.name,onChange:e=>setProfile({...profile,name:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:profile.email,onChange:e=>setProfile({...profile,email:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Student ID\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:profile.studentId,onChange:e=>setProfile({...profile,studentId:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Branch\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:profile.branch,onChange:e=>setProfile({...profile,branch:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Section\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:profile.section,onChange:e=>setProfile({...profile,section:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Profile Picture\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",accept:\"image/*\",onChange:handleProfilePictureChange}),profile.profilePicture&&/*#__PURE__*/_jsx(\"img\",{src:profile.profilePicture,alt:\"Profile\",className:\"profile-picture-preview\",style:{maxWidth:'100px',marginTop:'10px'}})]}),/*#__PURE__*/_jsx(Button,{className:\"btn-danger\",type:\"submit\",children:\"Save Changes\"})]})})]}),/*#__PURE__*/_jsxs(Modal,{show:showLeaveModal,onHide:()=>setShowLeaveModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Apply for Leave\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:submitLeaveRequest,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Reason\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"reason\",value:leaveRequest.reason,onChange:handleLeaveChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"From Date\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",name:\"fromDate\",value:leaveRequest.fromDate,onChange:handleLeaveChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"To Date\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",name:\"toDate\",value:leaveRequest.toDate,onChange:handleLeaveChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Proof Document\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",name:\"proof\",accept:\".pdf,.jpg,.jpeg,.png\",onChange:handleLeaveChange,required:true})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"btn-primary\",children:\"Submit Leave Request\"})]})})]})]});}export default StudentDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","Form","Button","Table","Modal","Card","Alert","Tab","Tabs","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsxs","_jsxs","jsx","_jsx","register","StudentDashboard","_ref","user","setUser","attendance","setAttendance","profile","setProfile","name","email","studentId","branch","section","profilePicture","schedule","setSchedule","notes","setNotes","localStorage","getItem","_id","notifications","setNotifications","showProfileModal","setShowProfileModal","announcements","setAnnouncements","leaveRequest","setLeaveRequest","reason","fromDate","toDate","proof","showLeaveModal","setShowLeaveModal","leaveRequests","setLeaveRequests","fetchAttendance","res","get","data","checkAndNotifyAttendance","err","_err$response","_err$response$data","addNotification","response","msg","message","fetchSchedule","_err$response2","_err$response2$data","fetchAnnouncements","_err$response3","_err$response3$data","fetchLeaveRequests","_err$response4","_err$response4$data","type","arguments","length","undefined","id","Date","now","prev","setTimeout","filter","n","attendanceData","today","toISOString","split","todayRecord","find","a","date","status","handleProfileUpdate","e","preventDefault","updatedUser","setItem","JSON","stringify","_err$response5","_err$response5$data","handleProfilePictureChange","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","calculateAttendancePercentage","presentCount","toFixed","handleNotesChange","value","exportAttendance","csv","map","toLocaleDateString","subject","join","blob","Blob","url","window","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","handleLeaveChange","submitLeaveRequest","facultyRes","facultyList","facultyIds","faculty","formData","FormData","append","post","headers","_err$response6","_err$response7","_err$response7$data","console","error","labels","datasets","label","backgroundColor","context","chart","ctx","chartArea","borderColor","borderWidth","options","responsive","plugins","legend","position","title","display","text","color","scales","x","ticks","y","beginAtZero","max","stepSize","callback","monthlyAttendanceData","Array","from","_","i","fill","monthAttendance","getMonth","monthlyOptions","examSchedule","examType","datesheettype","courseCode","courseName","slotNo","uid","newSlotNo","examDate","examTiming","examVenue","errorReporting","rescheduleReply","className","children","variant","onClick","notif","onClose","dismissible","defaultActiveKey","eventKey","Body","Control","as","rows","onChange","placeholder","striped","bordered","hover","record","style","classItem","day","time","ann","content","createdAt","exam","index","request","rel","show","onHide","Header","closeButton","onSubmit","Group","Label","required","accept","src","alt","maxWidth","marginTop"],"sources":["C:/attendance-system/client/src/components/StudentDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Form, Button, Table, Modal, Card, Alert, Tab, Tabs } from 'react-bootstrap';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\nfunction StudentDashboard({ user, setUser }) {\r\n  const [attendance, setAttendance] = useState([]);\r\n  const [profile, setProfile] = useState({\r\n    name: user.name,\r\n    email: user.email,\r\n    studentId: user.studentId,\r\n    branch: user.branch,\r\n    section: user.section,\r\n    profilePicture: user.profilePicture || '',\r\n  });\r\n  const [schedule, setSchedule] = useState([]);\r\n  const [notes, setNotes] = useState(localStorage.getItem(`notes_${user._id}`) || '');\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [showProfileModal, setShowProfileModal] = useState(false);\r\n  const [announcements, setAnnouncements] = useState([]);\r\n  const [leaveRequest, setLeaveRequest] = useState({ reason: '', fromDate: '', toDate: '', proof: null });\r\n  const [showLeaveModal, setShowLeaveModal] = useState(false);\r\n  const [leaveRequests, setLeaveRequests] = useState([]); // New state for leave requests\r\n\r\n  useEffect(() => {\r\n    const fetchAttendance = async () => {\r\n      try {\r\n        const res = await axios.get(`http://localhost:5000/api/attendance?studentId=${user.studentId}`);\r\n        setAttendance(res.data);\r\n        checkAndNotifyAttendance(res.data);\r\n      } catch (err) {\r\n        addNotification('Failed to fetch attendance: ' + (err.response?.data?.msg || err.message), 'error');\r\n      }\r\n    };\r\n    const fetchSchedule = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/schedule');\r\n        setSchedule(res.data);\r\n      } catch (err) {\r\n        addNotification('Failed to fetch schedule: ' + (err.response?.data?.msg || err.message), 'error');\r\n      }\r\n    };\r\n    const fetchAnnouncements = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/announcements');\r\n        setAnnouncements(res.data);\r\n      } catch (err) {\r\n        addNotification('Failed to fetch announcements: ' + (err.response?.data?.msg || err.message), 'error');\r\n      }\r\n    };\r\n    const fetchLeaveRequests = async () => {\r\n      try {\r\n        const res = await axios.get(`http://localhost:5000/api/leave-request?studentId=${user._id}`);\r\n        setLeaveRequests(res.data);\r\n      } catch (err) {\r\n        addNotification('Failed to fetch leave requests: ' + (err.response?.data?.msg || err.message), 'error');\r\n      }\r\n    };\r\n    fetchAttendance();\r\n    fetchSchedule();\r\n    fetchAnnouncements();\r\n    fetchLeaveRequests();\r\n  }, [user.studentId, user._id]);\r\n\r\n  const addNotification = (msg, type = 'success') => {\r\n    const id = Date.now();\r\n    setNotifications((prev) => [...prev, { id, msg, type }]);\r\n    setTimeout(() => {\r\n      setNotifications((prev) => prev.filter((n) => n.id !== id));\r\n    }, 5000);\r\n  };\r\n\r\n  const checkAndNotifyAttendance = (attendanceData) => {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    const todayRecord = attendanceData.find((a) => new Date(a.date).toISOString().split('T')[0] === today);\r\n    if (todayRecord && todayRecord.status === 'absent') {\r\n      addNotification(`You were marked absent today (${today}). Please inform your teacher if this is incorrect.`, 'warning');\r\n    } else if (todayRecord && todayRecord.status === 'present') {\r\n      addNotification(`You were marked present today (${today}).`, 'success');\r\n    }\r\n  };\r\n\r\n  const handleProfileUpdate = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const updatedUser = {\r\n        ...user,\r\n        name: profile.name,\r\n        email: profile.email,\r\n        studentId: profile.studentId,\r\n        branch: profile.branch,\r\n        section: profile.section,\r\n        profilePicture: profile.profilePicture,\r\n      };\r\n      localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      setUser(updatedUser);\r\n      setShowProfileModal(false);\r\n      addNotification('Profile updated successfully!');\r\n    } catch (err) {\r\n      addNotification('Failed to update profile: ' + (err.response?.data?.msg || err.message), 'error');\r\n    }\r\n  };\r\n\r\n  const handleProfilePictureChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setProfile({ ...profile, profilePicture: reader.result });\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const calculateAttendancePercentage = () => {\r\n    if (attendance.length === 0) return 0;\r\n    const presentCount = attendance.filter((a) => a.status === 'present').length;\r\n    return ((presentCount / attendance.length) * 100).toFixed(2);\r\n  };\r\n\r\n  const handleNotesChange = (e) => {\r\n    setNotes(e.target.value);\r\n    localStorage.setItem(`notes_${user._id}`, e.target.value);\r\n  };\r\n\r\n  const exportAttendance = () => {\r\n    const csv = [\r\n      'Date,Subject,Status',\r\n      ...attendance.map((a) => `${new Date(a.date).toLocaleDateString()},${a.subject || 'N/A'},${a.status}`),\r\n    ].join('\\n');\r\n    const blob = new Blob([csv], { type: 'text/csv' });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `attendance_${user.studentId}_${new Date().toISOString().split('T')[0]}.csv`;\r\n    a.click();\r\n    window.URL.revokeObjectURL(url);\r\n    addNotification('Attendance exported successfully!', 'success');\r\n  };\r\n\r\n  const handleLeaveChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n    if (name === 'proof') {\r\n      setLeaveRequest({ ...leaveRequest, proof: files[0] });\r\n    } else {\r\n      setLeaveRequest({ ...leaveRequest, [name]: value });\r\n    }\r\n  };\r\n\r\n  const submitLeaveRequest = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (!leaveRequest.proof) {\r\n        addNotification('Please upload a proof document for the leave request.', 'error');\r\n        return;\r\n      }\r\n\r\n      // Fetch all faculty members\r\n      const facultyRes = await axios.get('http://localhost:5000/api/users?role=faculty');\r\n      const facultyList = facultyRes.data;\r\n\r\n      if (!facultyList || facultyList.length === 0) {\r\n        addNotification('No faculty members available. Please contact the administrator.', 'error');\r\n        return;\r\n      }\r\n\r\n      const facultyIds = facultyList.map((faculty) => faculty._id);\r\n\r\n      // Prepare form data for file upload\r\n      const formData = new FormData();\r\n      formData.append('studentId', user._id); // Send MongoDB _id\r\n      formData.append('studentCode', user.studentId); // Send string student ID\r\n      formData.append('section', user.section);\r\n      formData.append('facultyIds', JSON.stringify(facultyIds));\r\n      formData.append('reason', leaveRequest.reason);\r\n      formData.append('fromDate', leaveRequest.fromDate);\r\n      formData.append('toDate', leaveRequest.toDate);\r\n      formData.append('proof', leaveRequest.proof);\r\n\r\n      // Send leave request\r\n      await axios.post('http://localhost:5000/api/leave-request', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n\r\n      setLeaveRequest({ reason: '', fromDate: '', toDate: '', proof: null });\r\n      setShowLeaveModal(false);\r\n      addNotification('Leave request submitted successfully to all faculty!', 'success');\r\n\r\n      // Refresh leave requests\r\n      const res = await axios.get(`http://localhost:5000/api/leave-request?studentId=${user._id}`);\r\n      setLeaveRequests(res.data);\r\n    } catch (err) {\r\n      console.error('Leave Request Error:', err.response?.data || err.message);\r\n      addNotification('Failed to submit leave request: ' + (err.response?.data?.msg || err.message), 'error');\r\n    }\r\n  };\r\n\r\n  const attendanceData = {\r\n    labels: attendance.map((a) => new Date(a.date).toLocaleDateString()),\r\n    datasets: [\r\n      {\r\n        label: 'Attendance Status',\r\n        data: attendance.map((a) => (a.status === 'present' ? 1 : 0)),\r\n        backgroundColor: (context) => {\r\n          const chart = context.chart;\r\n          const { ctx, data, chartArea } = chart;\r\n          if (!chartArea) return null;\r\n          return attendance.map((a) => (a.status === 'present' ? '#4CAF50' : '#F44336'));\r\n        },\r\n        borderColor: '#ffffff',\r\n        borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: { position: 'top' },\r\n      title: { display: true, text: 'Attendance Trend', color: '#ffffff' },\r\n    },\r\n    scales: {\r\n      x: { ticks: { color: '#ffffff' } },\r\n      y: {\r\n        beginAtZero: true,\r\n        max: 1,\r\n        ticks: { color: '#ffffff', stepSize: 1, callback: (value) => (value === 1 ? 'Present' : 'Absent') },\r\n      },\r\n    },\r\n  };\r\n\r\n  const monthlyAttendanceData = {\r\n    labels: Array.from({ length: 12 }, (_, i) => `${i + 1}/2025`),\r\n    datasets: [\r\n      {\r\n        label: 'Monthly Attendance (%)',\r\n        data: Array(12).fill().map((_, i) => {\r\n          const monthAttendance = attendance.filter((a) => new Date(a.date).getMonth() === i);\r\n          return monthAttendance.length ? ((monthAttendance.filter((a) => a.status === 'present').length / monthAttendance.length) * 100).toFixed(2) : 0;\r\n        }),\r\n        backgroundColor: '#2196F3',\r\n        borderColor: '#ffffff',\r\n        borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const monthlyOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: { position: 'top' },\r\n      title: { display: true, text: 'Monthly Attendance Trends', color: '#ffffff' },\r\n    },\r\n    scales: {\r\n      x: { ticks: { color: '#ffffff' } },\r\n      y: {\r\n        beginAtZero: true,\r\n        max: 100,\r\n        ticks: { color: '#ffffff', stepSize: 10, callback: (value) => `${value}%` },\r\n      },\r\n    },\r\n  };\r\n\r\n  const examSchedule = [\r\n    { examType: 'Regular', datesheettype: 'final', courseCode: '24CAT-673', courseName: 'ARTIFICIAL INTELLIGENCE', slotNo: 5, uid: '24MC110250', newSlotNo: '', examDate: '02 May 2025', examTiming: '09:30', examVenue: 'Offline', errorReporting: '', rescheduleReply: '' },\r\n    { examType: 'Regular', datesheettype: 'final', courseCode: '24CAH-655', courseName: 'FRONT END TECHNOLOGIES', slotNo: 21, uid: '24MC110250', newSlotNo: '', examDate: '12 May 2025', examTiming: '09:30', examVenue: 'Offline', errorReporting: '', rescheduleReply: '' },\r\n    { examType: 'Regular', datesheettype: 'final', courseCode: '24TDT-661', courseName: 'APTITUDE-I', slotNo: 40, uid: '24MC110250', newSlotNo: '', examDate: '22 May 2025', examTiming: '13:30', examVenue: 'Online', errorReporting: '', rescheduleReply: '' },\r\n    { examType: 'Regular', datesheettype: 'final', courseCode: '24CAT-671', courseName: 'MACHINE LEARNING', slotNo: 1, uid: '24MC110250', newSlotNo: '', examDate: '30 Apr 2025', examTiming: '09:30', examVenue: 'Offline', errorReporting: '', rescheduleReply: '' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"dashboard-content\">\r\n      <h2>Welcome, {profile.name}</h2>\r\n      <Button variant=\"secondary\" className=\"mb-3\" onClick={() => setShowProfileModal(true)}>\r\n        Edit Profile\r\n      </Button>\r\n      <Button variant=\"primary\" className=\"mb-3 ms-2\" onClick={() => setShowLeaveModal(true)}>\r\n        Apply for Leave\r\n      </Button>\r\n      <Button variant=\"info\" className=\"mb-3 ms-2\" onClick={exportAttendance}>\r\n        Export Attendance\r\n      </Button>\r\n      {notifications.map((notif) => (\r\n        <Alert\r\n          key={notif.id}\r\n          variant={notif.type === 'success' ? 'success' : notif.type === 'warning' ? 'warning' : 'danger'}\r\n          onClose={() => setNotifications((prev) => prev.filter((n) => n.id !== notif.id))}\r\n          dismissible\r\n        >\r\n          {notif.msg}\r\n        </Alert>\r\n      ))}\r\n      <Tabs defaultActiveKey=\"profile\" className=\"mb-4\">\r\n        <Tab eventKey=\"profile\" title=\"Profile\">\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Profile Details</Card.Title>\r\n              <p><strong>Email:</strong> {profile.email || 'N/A'}</p>\r\n              <p><strong>Student ID:</strong> {profile.studentId || 'N/A'}</p>\r\n              <p><strong>Branch:</strong> {profile.branch || 'N/A'}</p>\r\n              <p><strong>Section:</strong> {profile.section || 'N/A'}</p>\r\n              <p><strong>Attendance:</strong> {calculateAttendancePercentage()}%</p>\r\n            </Card.Body>\r\n          </Card>\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Notes</Card.Title>\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                rows={5}\r\n                value={notes}\r\n                onChange={handleNotesChange}\r\n                placeholder=\"Add your notes here...\"\r\n              />\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n        <Tab eventKey=\"attendance\" title=\"Attendance\">\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Attendance Records</Card.Title>\r\n              <Table striped bordered hover>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Date</th>\r\n                    <th>Subject</th>\r\n                    <th>Status</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {attendance.map((record) => (\r\n                    <tr key={record._id}>\r\n                      <td>{new Date(record.date).toLocaleDateString()}</td>\r\n                      <td>{record.subject || 'N/A'}</td>\r\n                      <td style={{ color: record.status === 'present' ? 'green' : 'red' }}>\r\n                        {record.status}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </Card.Body>\r\n          </Card>\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Attendance Trend</Card.Title>\r\n              <Bar data={attendanceData} options={options} />\r\n            </Card.Body>\r\n          </Card>\r\n          <Card className=\"mt-4\">\r\n            <Card.Body>\r\n              <Card.Title>Monthly Attendance Trends</Card.Title>\r\n              <Bar data={monthlyAttendanceData} options={monthlyOptions} />\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n        <Tab eventKey=\"schedule\" title=\"Schedule\">\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Class Schedule</Card.Title>\r\n              <Table striped bordered hover>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Day</th>\r\n                    <th>Time</th>\r\n                    <th>Subject</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {schedule.map((classItem) => (\r\n                    <tr key={classItem._id}>\r\n                      <td>{classItem.day}</td>\r\n                      <td>{classItem.time}</td>\r\n                      <td>{classItem.subject}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n        <Tab eventKey=\"announcements\" title=\"Announcements\">\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Announcements</Card.Title>\r\n              {announcements.length > 0 ? (\r\n                <Table striped bordered hover>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Title</th>\r\n                      <th>Content</th>\r\n                      <th>Date</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {announcements.map((ann) => (\r\n                      <tr key={ann._id}>\r\n                        <td>{ann.title}</td>\r\n                        <td>{ann.content}</td>\r\n                        <td>{new Date(ann.createdAt).toLocaleDateString()}</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              ) : (\r\n                <p>No announcements available.</p>\r\n              )}\r\n              <Card className=\"mt-4\">\r\n                <Card.Body>\r\n                  <Card.Title>Exam Schedule</Card.Title>\r\n                  <Table striped bordered hover>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Exam Type</th>\r\n                        <th>Datesheet Type</th>\r\n                        <th>Course Code</th>\r\n                        <th>Course Name</th>\r\n                        <th>Slot No</th>\r\n                        <th>UID</th>\r\n                        <th>Exam Date</th>\r\n                        <th>Exam Timing</th>\r\n                        <th>Exam Venue</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {examSchedule.map((exam, index) => (\r\n                        <tr key={index}>\r\n                          <td>{exam.examType}</td>\r\n                          <td>{exam.datesheettype}</td>\r\n                          <td>{exam.courseCode}</td>\r\n                          <td>{exam.courseName}</td>\r\n                          <td>{exam.slotNo}</td>\r\n                          <td>{exam.uid}</td>\r\n                          <td>{exam.examDate}</td>\r\n                          <td>{exam.examTiming}</td>\r\n                          <td>{exam.examVenue}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                </Card.Body>\r\n              </Card>\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n        <Tab eventKey=\"leave-requests\" title=\"Leave Requests\">\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Leave Requests</Card.Title>\r\n              {leaveRequests.length > 0 ? (\r\n                <Table striped bordered hover>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Reason</th>\r\n                      <th>From Date</th>\r\n                      <th>To Date</th>\r\n                      <th>Status</th>\r\n                      <th>Proof</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {leaveRequests.map((request) => (\r\n                      <tr key={request._id}>\r\n                        <td>{request.reason}</td>\r\n                        <td>{new Date(request.fromDate).toLocaleDateString()}</td>\r\n                        <td>{new Date(request.toDate).toLocaleDateString()}</td>\r\n                        <td\r\n                          style={{\r\n                            color:\r\n                              request.status === 'approved'\r\n                                ? 'green'\r\n                                : request.status === 'rejected'\r\n                                ? 'red'\r\n                                : 'orange',\r\n                          }}\r\n                        >\r\n                          {request.status}\r\n                        </td>\r\n                        <td>\r\n                          <a\r\n                            href={`http://localhost:5000/${request.proof}`}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                          >\r\n                            View Proof\r\n                          </a>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              ) : (\r\n                <p>No leave requests submitted.</p>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n      </Tabs>\r\n      <Modal show={showProfileModal} onHide={() => setShowProfileModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Edit Profile</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form onSubmit={handleProfileUpdate}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                value={profile.name}\r\n                onChange={(e) => setProfile({ ...profile, name: e.target.value })}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                value={profile.email}\r\n                onChange={(e) => setProfile({ ...profile, email: e.target.value })}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Student ID</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                value={profile.studentId}\r\n                onChange={(e) => setProfile({ ...profile, studentId: e.target.value })}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Branch</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                value={profile.branch}\r\n                onChange={(e) => setProfile({ ...profile, branch: e.target.value })}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Section</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                value={profile.section}\r\n                onChange={(e) => setProfile({ ...profile, section: e.target.value })}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Profile Picture</Form.Label>\r\n              <Form.Control\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleProfilePictureChange}\r\n              />\r\n              {profile.profilePicture && (\r\n                <img\r\n                  src={profile.profilePicture}\r\n                  alt=\"Profile\"\r\n                  className=\"profile-picture-preview\"\r\n                  style={{ maxWidth: '100px', marginTop: '10px' }}\r\n                />\r\n              )}\r\n            </Form.Group>\r\n            <Button className=\"btn-danger\" type=\"submit\">\r\n              Save Changes\r\n            </Button>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n      <Modal show={showLeaveModal} onHide={() => setShowLeaveModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Apply for Leave</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form onSubmit={submitLeaveRequest}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Reason</Form.Label>\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                name=\"reason\"\r\n                value={leaveRequest.reason}\r\n                onChange={handleLeaveChange}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>From Date</Form.Label>\r\n              <Form.Control\r\n                type=\"date\"\r\n                name=\"fromDate\"\r\n                value={leaveRequest.fromDate}\r\n                onChange={handleLeaveChange}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>To Date</Form.Label>\r\n              <Form.Control\r\n                type=\"date\"\r\n                name=\"toDate\"\r\n                value={leaveRequest.toDate}\r\n                onChange={handleLeaveChange}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Proof Document</Form.Label>\r\n              <Form.Control\r\n                type=\"file\"\r\n                name=\"proof\"\r\n                accept=\".pdf,.jpg,.jpeg,.png\"\r\n                onChange={handleLeaveChange}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Button type=\"submit\" className=\"btn-primary\">\r\n              Submit Leave Request\r\n            </Button>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StudentDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}