{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Form,Button,Table,Modal,Card,Alert,Tab,Tabs}from'react-bootstrap';import{Bar}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);function FacultyDashboard(_ref){let{user}=_ref;const[sections,setSections]=useState([]);const[selectedSection,setSelectedSection]=useState('');const[selectedSubject,setSelectedSubject]=useState('');const[selectedDate,setSelectedDate]=useState(new Date().toISOString().split('T')[0]);const[students,setStudents]=useState([]);const[attendance,setAttendance]=useState({});const[summary,setSummary]=useState({present:0,absent:0});const[message,setMessage]=useState('');const[showModal,setShowModal]=useState(false);const[schedule,setSchedule]=useState([]);const[newSchedule,setNewSchedule]=useState({day:'',time:'',subject:'',section:''});const[editScheduleId,setEditScheduleId]=useState(null);const[attendanceHistory,setAttendanceHistory]=useState([]);const[analytics,setAnalytics]=useState({});useEffect(()=>{const fetchSections=async()=>{try{const res=await axios.get('http://localhost:5000/api/sections',{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setSections(res.data);}catch(err){var _err$response,_err$response$data;setMessage('Failed to fetch sections: '+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.msg)||err.message));setShowModal(true);}};const fetchSchedule=async()=>{try{const res=await axios.get('http://localhost:5000/api/schedule',{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setSchedule(res.data);}catch(err){var _err$response2,_err$response2$data;setMessage('Failed to fetch schedule: '+(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.msg)||err.message));setShowModal(true);}};const fetchAttendanceHistory=async()=>{try{const res=await axios.get('http://localhost:5000/api/attendance',{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setAttendanceHistory(res.data);}catch(err){var _err$response3,_err$response3$data;setMessage('Failed to fetch attendance history: '+(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.msg)||err.message));setShowModal(true);}};fetchSections();fetchSchedule();fetchAttendanceHistory();},[]);const handleFilter=async()=>{try{const studentRes=await axios.get(`http://localhost:5000/api/users?section=${selectedSection}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setStudents(studentRes.data);setSummary({present:0,absent:0});setAttendance({});const dateAttendanceRes=await axios.get(`http://localhost:5000/api/attendance?date=${selectedDate}&section=${selectedSection}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});const initialAttendance=dateAttendanceRes.data.reduce((acc,record)=>{acc[record.studentId]=record.status;return acc;},{});setAttendance(initialAttendance);updateSummary(initialAttendance);const startDate=new Date(selectedDate);startDate.setDate(startDate.getDate()-30);const analyticsRes=await axios.get(`http://localhost:5000/api/attendance?section=${selectedSection}&startDate=${startDate.toISOString()}&endDate=${selectedDate}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});const analyticsData=analyticsRes.data.reduce((acc,record)=>{acc[record.studentId]=acc[record.studentId]||{present:0,absent:0};acc[record.studentId][record.status]++;return acc;},{});setAnalytics(analyticsData);}catch(err){var _err$response4,_err$response4$data;setMessage('Failed to filter students: '+(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.msg)||err.message));setShowModal(true);console.error('Filter error:',err);}};const updateSummary=attendanceData=>{const count={present:0,absent:0};Object.values(attendanceData).forEach(status=>{if(status==='present')count.present++;if(status==='absent')count.absent++;});setSummary(count);};const handleAttendanceChange=(studentId,status)=>{setAttendance(prev=>{const newAttendance={...prev,[studentId]:status};updateSummary(newAttendance);return newAttendance;});};const submitAttendance=async()=>{try{for(const[studentId,status]of Object.entries(attendance)){const existing=await axios.get(`http://localhost:5000/api/attendance?studentId=${studentId}&date=${selectedDate}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});const existingRecord=existing.data[0];if(existingRecord){await axios.put(`http://localhost:5000/api/attendance/${existingRecord._id}`,{status},{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});}else{await axios.post('http://localhost:5000/api/attendance',{studentId,section:selectedSection,subject:selectedSubject||user.subject,status,date:selectedDate},{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});}}setMessage('Attendance submitted successfully!');setShowModal(true);setTimeout(()=>setShowModal(false),3000);}catch(err){var _err$response5,_err$response5$data;setMessage('Failed to submit attendance: '+(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.msg)||err.message));setShowModal(true);setTimeout(()=>setShowModal(false),3000);}};const exportAttendance=()=>{const csv=[['Student ID','Name','Section','Status','Date','Time'],...students.map(student=>[student.studentId,student.name,student.section,attendance[student.studentId]||'N/A',selectedDate,new Date().toLocaleTimeString()])].map(row=>row.join(',')).join('\\n');const blob=new Blob([csv],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=`attendance_${selectedSection}_${selectedDate}.csv`;a.click();window.URL.revokeObjectURL(url);};const handleCreateSchedule=async e=>{e.preventDefault();try{await axios.post('http://localhost:5000/api/schedule',newSchedule,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setNewSchedule({day:'',time:'',subject:'',section:''});const res=await axios.get('http://localhost:5000/api/schedule',{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setSchedule(res.data);setMessage('Schedule created successfully!');setShowModal(true);setTimeout(()=>setShowModal(false),3000);}catch(err){var _err$response6,_err$response6$data;setMessage('Failed to create schedule: '+(((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.msg)||err.message));setShowModal(true);setTimeout(()=>setShowModal(false),3000);}};const handleEditSchedule=id=>{const scheduleToEdit=schedule.find(s=>s._id===id);setNewSchedule({day:scheduleToEdit.day,time:scheduleToEdit.time,subject:scheduleToEdit.subject,section:scheduleToEdit.section});setEditScheduleId(id);};const handleUpdateSchedule=async e=>{e.preventDefault();try{await axios.put(`http://localhost:5000/api/schedule/${editScheduleId}`,newSchedule,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setNewSchedule({day:'',time:'',subject:'',section:''});setEditScheduleId(null);const res=await axios.get('http://localhost:5000/api/schedule',{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setSchedule(res.data);setMessage('Schedule updated successfully!');setShowModal(true);setTimeout(()=>setShowModal(false),3000);}catch(err){var _err$response7,_err$response7$data;setMessage('Failed to update schedule: '+(((_err$response7=err.response)===null||_err$response7===void 0?void 0:(_err$response7$data=_err$response7.data)===null||_err$response7$data===void 0?void 0:_err$response7$data.msg)||err.message));setShowModal(true);setTimeout(()=>setShowModal(false),3000);}};const handleDeleteSchedule=async id=>{try{await axios.delete(`http://localhost:5000/api/schedule/${id}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});const res=await axios.get('http://localhost:5000/api/schedule',{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setSchedule(res.data);setMessage('Schedule deleted successfully!');setShowModal(true);setTimeout(()=>setShowModal(false),3000);}catch(err){var _err$response8,_err$response8$data;setMessage('Failed to delete schedule: '+(((_err$response8=err.response)===null||_err$response8===void 0?void 0:(_err$response8$data=_err$response8.data)===null||_err$response8$data===void 0?void 0:_err$response8$data.msg)||err.message));setShowModal(true);setTimeout(()=>setShowModal(false),3000);}};const analyticsData={labels:students.map(s=>s.name),datasets:[{label:'Present',data:students.map(s=>{var _analytics$s$studentI;return((_analytics$s$studentI=analytics[s.studentId])===null||_analytics$s$studentI===void 0?void 0:_analytics$s$studentI.present)||0;}),backgroundColor:'#d32f2f'},{label:'Absent',data:students.map(s=>{var _analytics$s$studentI2;return((_analytics$s$studentI2=analytics[s.studentId])===null||_analytics$s$studentI2===void 0?void 0:_analytics$s$studentI2.absent)||0;}),backgroundColor:'#b71c1c'}]};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Subject:\"}),\" \",user.subject]}),/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"attendance\",className:\"mb-4\",children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"attendance\",title:\"Mark Attendance\",children:/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Attendance Management\"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Date\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value),required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Section\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:selectedSection,onChange:e=>setSelectedSection(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Section\"}),sections.map(sec=>/*#__PURE__*/_jsx(\"option\",{value:sec,children:sec},sec))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Subject\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:selectedSubject,onChange:e=>setSelectedSubject(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Subject\"}),/*#__PURE__*/_jsx(\"option\",{value:user.subject,children:user.subject}),schedule.filter(s=>s.section===selectedSection).map(s=>s.subject!==user.subject?/*#__PURE__*/_jsx(\"option\",{value:s.subject,children:s.subject},s._id):null)]})]})})]}),/*#__PURE__*/_jsx(Button,{className:\"btn-danger\",onClick:handleFilter,children:\"Filter Students\"})]}),students.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"mt-4\",children:[\"Mark Attendance for \",new Date(selectedDate).toLocaleDateString()]}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Student ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Section\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:students.map(student=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:student.studentId}),/*#__PURE__*/_jsx(\"td\",{children:student.name}),/*#__PURE__*/_jsx(\"td\",{children:student.section}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",label:\"Present\",name:`attendance-${student._id}`,checked:attendance[student.studentId]==='present',onChange:()=>handleAttendanceChange(student.studentId,'present')}),/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",label:\"Absent\",name:`attendance-${student._id}`,checked:attendance[student.studentId]==='absent',onChange:()=>handleAttendanceChange(student.studentId,'absent')})]})]},student._id))})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Summary:\"}),\" Present - \",summary.present,\", Absent - \",summary.absent]}),/*#__PURE__*/_jsx(Button,{className:\"btn-danger me-2\",onClick:submitAttendance,children:\"Submit Attendance\"}),/*#__PURE__*/_jsx(Button,{className:\"btn-danger\",onClick:exportAttendance,children:\"Export to CSV\"})]})]})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"schedule\",title:\"Manage Schedule\",children:/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Class Schedule\"}),/*#__PURE__*/_jsxs(Table,{className:\"schedule-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Day\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Section\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:schedule.map(classItem=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:classItem.day}),/*#__PURE__*/_jsx(\"td\",{children:classItem.time}),/*#__PURE__*/_jsx(\"td\",{children:classItem.subject}),/*#__PURE__*/_jsx(\"td\",{children:classItem.section}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:()=>handleEditSchedule(classItem._id),className:\"me-2\",children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>handleDeleteSchedule(classItem._id),children:\"Delete\"})]})]},classItem._id))})]}),/*#__PURE__*/_jsxs(Form,{onSubmit:editScheduleId?handleUpdateSchedule:handleCreateSchedule,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Day\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:newSchedule.day,onChange:e=>setNewSchedule({...newSchedule,day:e.target.value}),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Day\"}),['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'].map(day=>/*#__PURE__*/_jsx(\"option\",{value:day,children:day},day))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Time\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:newSchedule.time,onChange:e=>setNewSchedule({...newSchedule,time:e.target.value}),placeholder:\"e.g., 10:00 AM - 11:30 AM\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Subject\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:newSchedule.subject,onChange:e=>setNewSchedule({...newSchedule,subject:e.target.value}),placeholder:\"Enter subject\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Section\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:newSchedule.section,onChange:e=>setNewSchedule({...newSchedule,section:e.target.value}),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Section\"}),sections.map(sec=>/*#__PURE__*/_jsx(\"option\",{value:sec,children:sec},sec))]})]})})]}),/*#__PURE__*/_jsx(Button,{className:\"btn-danger\",type:\"submit\",children:editScheduleId?'Update Schedule':'Add Schedule'})]})]})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"analytics\",title:\"Analytics\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Attendance Analytics\"}),Object.keys(analytics).length>0&&/*#__PURE__*/_jsx(Bar,{data:analyticsData,options:{responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:'30-Day Attendance Analytics'}}}})]})})})]}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:()=>setShowModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:message.includes('successfully')?'Success':'Error'})}),/*#__PURE__*/_jsx(Modal.Body,{children:message}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowModal(false),children:\"Close\"})})]})]});}export default FacultyDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","Form","Button","Table","Modal","Card","Alert","Tab","Tabs","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","register","FacultyDashboard","_ref","user","sections","setSections","selectedSection","setSelectedSection","selectedSubject","setSelectedSubject","selectedDate","setSelectedDate","Date","toISOString","split","students","setStudents","attendance","setAttendance","summary","setSummary","present","absent","message","setMessage","showModal","setShowModal","schedule","setSchedule","newSchedule","setNewSchedule","day","time","subject","section","editScheduleId","setEditScheduleId","attendanceHistory","setAttendanceHistory","analytics","setAnalytics","fetchSections","res","get","headers","Authorization","localStorage","getItem","data","err","_err$response","_err$response$data","response","msg","fetchSchedule","_err$response2","_err$response2$data","fetchAttendanceHistory","_err$response3","_err$response3$data","handleFilter","studentRes","dateAttendanceRes","initialAttendance","reduce","acc","record","studentId","status","updateSummary","startDate","setDate","getDate","analyticsRes","analyticsData","_err$response4","_err$response4$data","console","error","attendanceData","count","Object","values","forEach","handleAttendanceChange","prev","newAttendance","submitAttendance","entries","existing","existingRecord","put","_id","post","date","setTimeout","_err$response5","_err$response5$data","exportAttendance","csv","map","student","name","toLocaleTimeString","row","join","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","handleCreateSchedule","e","preventDefault","_err$response6","_err$response6$data","handleEditSchedule","id","scheduleToEdit","find","s","handleUpdateSchedule","_err$response7","_err$response7$data","handleDeleteSchedule","delete","_err$response8","_err$response8$data","labels","datasets","label","_analytics$s$studentI","backgroundColor","_analytics$s$studentI2","className","children","defaultActiveKey","eventKey","title","Body","Group","Label","Control","value","onChange","target","required","as","sec","filter","onClick","length","toLocaleDateString","striped","bordered","hover","Check","checked","classItem","variant","onSubmit","placeholder","keys","options","responsive","plugins","legend","position","display","text","show","onHide","Header","closeButton","includes","Footer"],"sources":["C:/lab/2ndsem/frontendlab/project/attendance-system/client/src/components/FacultyDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Form, Button, Table, Modal, Card, Alert, Tab, Tabs } from 'react-bootstrap';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\nfunction FacultyDashboard({ user }) {\r\n  const [sections, setSections] = useState([]);\r\n  const [selectedSection, setSelectedSection] = useState('');\r\n  const [selectedSubject, setSelectedSubject] = useState('');\r\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\r\n  const [students, setStudents] = useState([]);\r\n  const [attendance, setAttendance] = useState({});\r\n  const [summary, setSummary] = useState({ present: 0, absent: 0 });\r\n  const [message, setMessage] = useState('');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [schedule, setSchedule] = useState([]);\r\n  const [newSchedule, setNewSchedule] = useState({ day: '', time: '', subject: '', section: '' });\r\n  const [editScheduleId, setEditScheduleId] = useState(null);\r\n  const [attendanceHistory, setAttendanceHistory] = useState([]);\r\n  const [analytics, setAnalytics] = useState({});\r\n\r\n  useEffect(() => {\r\n    const fetchSections = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/sections', {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n        });\r\n        setSections(res.data);\r\n      } catch (err) {\r\n        setMessage('Failed to fetch sections: ' + (err.response?.data?.msg || err.message));\r\n        setShowModal(true);\r\n      }\r\n    };\r\n    const fetchSchedule = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/schedule', {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n        });\r\n        setSchedule(res.data);\r\n      } catch (err) {\r\n        setMessage('Failed to fetch schedule: ' + (err.response?.data?.msg || err.message));\r\n        setShowModal(true);\r\n      }\r\n    };\r\n    const fetchAttendanceHistory = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/attendance', {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n        });\r\n        setAttendanceHistory(res.data);\r\n      } catch (err) {\r\n        setMessage('Failed to fetch attendance history: ' + (err.response?.data?.msg || err.message));\r\n        setShowModal(true);\r\n      }\r\n    };\r\n    fetchSections();\r\n    fetchSchedule();\r\n    fetchAttendanceHistory();\r\n  }, []);\r\n\r\n  const handleFilter = async () => {\r\n    try {\r\n      const studentRes = await axios.get(`http://localhost:5000/api/users?section=${selectedSection}`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n      });\r\n      setStudents(studentRes.data);\r\n      setSummary({ present: 0, absent: 0 });\r\n      setAttendance({});\r\n\r\n      const dateAttendanceRes = await axios.get(\r\n        `http://localhost:5000/api/attendance?date=${selectedDate}&section=${selectedSection}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n        }\r\n      );\r\n      const initialAttendance = dateAttendanceRes.data.reduce((acc, record) => {\r\n        acc[record.studentId] = record.status;\r\n        return acc;\r\n      }, {});\r\n      setAttendance(initialAttendance);\r\n      updateSummary(initialAttendance);\r\n\r\n      const startDate = new Date(selectedDate);\r\n      startDate.setDate(startDate.getDate() - 30);\r\n      const analyticsRes = await axios.get(\r\n        `http://localhost:5000/api/attendance?section=${selectedSection}&startDate=${startDate.toISOString()}&endDate=${selectedDate}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n        }\r\n      );\r\n      const analyticsData = analyticsRes.data.reduce((acc, record) => {\r\n        acc[record.studentId] = acc[record.studentId] || { present: 0, absent: 0 };\r\n        acc[record.studentId][record.status]++;\r\n        return acc;\r\n      }, {});\r\n      setAnalytics(analyticsData);\r\n    } catch (err) {\r\n      setMessage('Failed to filter students: ' + (err.response?.data?.msg || err.message));\r\n      setShowModal(true);\r\n      console.error('Filter error:', err);\r\n    }\r\n  };\r\n\r\n  const updateSummary = (attendanceData) => {\r\n    const count = { present: 0, absent: 0 };\r\n    Object.values(attendanceData).forEach((status) => {\r\n      if (status === 'present') count.present++;\r\n      if (status === 'absent') count.absent++;\r\n    });\r\n    setSummary(count);\r\n  };\r\n\r\n  const handleAttendanceChange = (studentId, status) => {\r\n    setAttendance((prev) => {\r\n      const newAttendance = { ...prev, [studentId]: status };\r\n      updateSummary(newAttendance);\r\n      return newAttendance;\r\n    });\r\n  };\r\n\r\n  const submitAttendance = async () => {\r\n    try {\r\n      for (const [studentId, status] of Object.entries(attendance)) {\r\n        const existing = await axios.get(\r\n          `http://localhost:5000/api/attendance?studentId=${studentId}&date=${selectedDate}`,\r\n          {\r\n            headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n          }\r\n        );\r\n        const existingRecord = existing.data[0];\r\n        if (existingRecord) {\r\n          await axios.put(\r\n            `http://localhost:5000/api/attendance/${existingRecord._id}`,\r\n            { status },\r\n            {\r\n              headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n            }\r\n          );\r\n        } else {\r\n          await axios.post(\r\n            'http://localhost:5000/api/attendance',\r\n            {\r\n              studentId,\r\n              section: selectedSection,\r\n              subject: selectedSubject || user.subject,\r\n              status,\r\n              date: selectedDate,\r\n            },\r\n            {\r\n              headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n            }\r\n          );\r\n        }\r\n      }\r\n      setMessage('Attendance submitted successfully!');\r\n      setShowModal(true);\r\n      setTimeout(() => setShowModal(false), 3000);\r\n    } catch (err) {\r\n      setMessage('Failed to submit attendance: ' + (err.response?.data?.msg || err.message));\r\n      setShowModal(true);\r\n      setTimeout(() => setShowModal(false), 3000);\r\n    }\r\n  };\r\n\r\n  const exportAttendance = () => {\r\n    const csv = [\r\n      ['Student ID', 'Name', 'Section', 'Status', 'Date', 'Time'],\r\n      ...students.map((student) => [\r\n        student.studentId,\r\n        student.name,\r\n        student.section,\r\n        attendance[student.studentId] || 'N/A',\r\n        selectedDate,\r\n        new Date().toLocaleTimeString(),\r\n      ]),\r\n    ]\r\n      .map((row) => row.join(','))\r\n      .join('\\n');\r\n    const blob = new Blob([csv], { type: 'text/csv' });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `attendance_${selectedSection}_${selectedDate}.csv`;\r\n    a.click();\r\n    window.URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const handleCreateSchedule = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('http://localhost:5000/api/schedule', newSchedule, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n      });\r\n      setNewSchedule({ day: '', time: '', subject: '', section: '' });\r\n      const res = await axios.get('http://localhost:5000/api/schedule', {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n      });\r\n      setSchedule(res.data);\r\n      setMessage('Schedule created successfully!');\r\n      setShowModal(true);\r\n      setTimeout(() => setShowModal(false), 3000);\r\n    } catch (err) {\r\n      setMessage('Failed to create schedule: ' + (err.response?.data?.msg || err.message));\r\n      setShowModal(true);\r\n      setTimeout(() => setShowModal(false), 3000);\r\n    }\r\n  };\r\n\r\n  const handleEditSchedule = (id) => {\r\n    const scheduleToEdit = schedule.find((s) => s._id === id);\r\n    setNewSchedule({\r\n      day: scheduleToEdit.day,\r\n      time: scheduleToEdit.time,\r\n      subject: scheduleToEdit.subject,\r\n      section: scheduleToEdit.section,\r\n    });\r\n    setEditScheduleId(id);\r\n  };\r\n\r\n  const handleUpdateSchedule = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.put(\r\n        `http://localhost:5000/api/schedule/${editScheduleId}`,\r\n        newSchedule,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n        }\r\n      );\r\n      setNewSchedule({ day: '', time: '', subject: '', section: '' });\r\n      setEditScheduleId(null);\r\n      const res = await axios.get('http://localhost:5000/api/schedule', {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n      });\r\n      setSchedule(res.data);\r\n      setMessage('Schedule updated successfully!');\r\n      setShowModal(true);\r\n      setTimeout(() => setShowModal(false), 3000);\r\n    } catch (err) {\r\n      setMessage('Failed to update schedule: ' + (err.response?.data?.msg || err.message));\r\n      setShowModal(true);\r\n      setTimeout(() => setShowModal(false), 3000);\r\n    }\r\n  };\r\n\r\n  const handleDeleteSchedule = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/api/schedule/${id}`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n      });\r\n      const res = await axios.get('http://localhost:5000/api/schedule', {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n      });\r\n      setSchedule(res.data);\r\n      setMessage('Schedule deleted successfully!');\r\n      setShowModal(true);\r\n      setTimeout(() => setShowModal(false), 3000);\r\n    } catch (err) {\r\n      setMessage('Failed to delete schedule: ' + (err.response?.data?.msg || err.message));\r\n      setShowModal(true);\r\n      setTimeout(() => setShowModal(false), 3000);\r\n    }\r\n  };\r\n\r\n  const analyticsData = {\r\n    labels: students.map((s) => s.name),\r\n    datasets: [\r\n      {\r\n        label: 'Present',\r\n        data: students.map((s) => analytics[s.studentId]?.present || 0),\r\n        backgroundColor: '#d32f2f',\r\n      },\r\n      {\r\n        label: 'Absent',\r\n        data: students.map((s) => analytics[s.studentId]?.absent || 0),\r\n        backgroundColor: '#b71c1c',\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-content\">\r\n      <h2>Welcome, {user.name}</h2>\r\n      <p><strong>Subject:</strong> {user.subject}</p>\r\n      <Tabs defaultActiveKey=\"attendance\" className=\"mb-4\">\r\n        <Tab eventKey=\"attendance\" title=\"Mark Attendance\">\r\n          <Card className=\"mb-4\">\r\n            <Card.Body>\r\n              <Card.Title>Attendance Management</Card.Title>\r\n              <Form>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-4\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Date</Form.Label>\r\n                      <Form.Control\r\n                        type=\"date\"\r\n                        value={selectedDate}\r\n                        onChange={(e) => setSelectedDate(e.target.value)}\r\n                        required\r\n                      />\r\n                    </Form.Group>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Section</Form.Label>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={selectedSection}\r\n                        onChange={(e) => setSelectedSection(e.target.value)}\r\n                      >\r\n                        <option value=\"\">Select Section</option>\r\n                        {sections.map((sec) => (\r\n                          <option key={sec} value={sec}>\r\n                            {sec}\r\n                          </option>\r\n                        ))}\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Subject</Form.Label>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={selectedSubject}\r\n                        onChange={(e) => setSelectedSubject(e.target.value)}\r\n                      >\r\n                        <option value=\"\">Select Subject</option>\r\n                        <option value={user.subject}>{user.subject}</option>\r\n                        {schedule\r\n                          .filter((s) => s.section === selectedSection)\r\n                          .map((s) =>\r\n                            s.subject !== user.subject ? (\r\n                              <option key={s._id} value={s.subject}>\r\n                                {s.subject}\r\n                              </option>\r\n                            ) : null\r\n                          )}\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n                  </div>\r\n                </div>\r\n                <Button className=\"btn-danger\" onClick={handleFilter}>\r\n                  Filter Students\r\n                </Button>\r\n              </Form>\r\n              {students.length > 0 && (\r\n                <>\r\n                  <h4 className=\"mt-4\">Mark Attendance for {new Date(selectedDate).toLocaleDateString()}</h4>\r\n                  <Table striped bordered hover>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Student ID</th>\r\n                        <th>Name</th>\r\n                        <th>Section</th>\r\n                        <th>Status</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {students.map((student) => (\r\n                        <tr key={student._id}>\r\n                          <td>{student.studentId}</td>\r\n                          <td>{student.name}</td>\r\n                          <td>{student.section}</td>\r\n                          <td>\r\n                            <Form.Check\r\n                              type=\"radio\"\r\n                              label=\"Present\"\r\n                              name={`attendance-${student._id}`}\r\n                              checked={attendance[student.studentId] === 'present'}\r\n                              onChange={() => handleAttendanceChange(student.studentId, 'present')}\r\n                            />\r\n                            <Form.Check\r\n                              type=\"radio\"\r\n                              label=\"Absent\"\r\n                              name={`attendance-${student._id}`}\r\n                              checked={attendance[student.studentId] === 'absent'}\r\n                              onChange={() => handleAttendanceChange(student.studentId, 'absent')}\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                  <p>\r\n                    <strong>Summary:</strong> Present - {summary.present}, Absent - {summary.absent}\r\n                  </p>\r\n                  <Button className=\"btn-danger me-2\" onClick={submitAttendance}>\r\n                    Submit Attendance\r\n                  </Button>\r\n                  <Button className=\"btn-danger\" onClick={exportAttendance}>\r\n                    Export to CSV\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n        <Tab eventKey=\"schedule\" title=\"Manage Schedule\">\r\n          <Card className=\"mb-4\">\r\n            <Card.Body>\r\n              <Card.Title>Class Schedule</Card.Title>\r\n              <Table className=\"schedule-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Day</th>\r\n                    <th>Time</th>\r\n                    <th>Subject</th>\r\n                    <th>Section</th>\r\n                    <th>Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {schedule.map((classItem) => (\r\n                    <tr key={classItem._id}>\r\n                      <td>{classItem.day}</td>\r\n                      <td>{classItem.time}</td>\r\n                      <td>{classItem.subject}</td>\r\n                      <td>{classItem.section}</td>\r\n                      <td>\r\n                        <Button\r\n                          variant=\"warning\"\r\n                          onClick={() => handleEditSchedule(classItem._id)}\r\n                          className=\"me-2\"\r\n                        >\r\n                          Edit\r\n                        </Button>\r\n                        <Button variant=\"danger\" onClick={() => handleDeleteSchedule(classItem._id)}>\r\n                          Delete\r\n                        </Button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n              <Form onSubmit={editScheduleId ? handleUpdateSchedule : handleCreateSchedule}>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-3\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Day</Form.Label>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={newSchedule.day}\r\n                        onChange={(e) =>\r\n                          setNewSchedule({ ...newSchedule, day: e.target.value })\r\n                        }\r\n                        required\r\n                      >\r\n                        <option value=\"\">Select Day</option>\r\n                        {['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].map(\r\n                          (day) => (\r\n                            <option key={day} value={day}>\r\n                              {day}\r\n                            </option>\r\n                          )\r\n                        )}\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Time</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        value={newSchedule.time}\r\n                        onChange={(e) =>\r\n                          setNewSchedule({ ...newSchedule, time: e.target.value })\r\n                        }\r\n                        placeholder=\"e.g., 10:00 AM - 11:30 AM\"\r\n                        required\r\n                      />\r\n                    </Form.Group>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Subject</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        value={newSchedule.subject}\r\n                        onChange={(e) =>\r\n                          setNewSchedule({ ...newSchedule, subject: e.target.value })\r\n                        }\r\n                        placeholder=\"Enter subject\"\r\n                        required\r\n                      />\r\n                    </Form.Group>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Section</Form.Label>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={newSchedule.section}\r\n                        onChange={(e) =>\r\n                          setNewSchedule({ ...newSchedule, section: e.target.value })\r\n                        }\r\n                        required\r\n                      >\r\n                        <option value=\"\">Select Section</option>\r\n                        {sections.map((sec) => (\r\n                          <option key={sec} value={sec}>\r\n                            {sec}\r\n                          </option>\r\n                        ))}\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n                  </div>\r\n                </div>\r\n                <Button className=\"btn-danger\" type=\"submit\">\r\n                  {editScheduleId ? 'Update Schedule' : 'Add Schedule'}\r\n                </Button>\r\n              </Form>\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n        <Tab eventKey=\"analytics\" title=\"Analytics\">\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Attendance Analytics</Card.Title>\r\n              {Object.keys(analytics).length > 0 && (\r\n                <Bar\r\n                  data={analyticsData}\r\n                  options={{\r\n                    responsive: true,\r\n                    plugins: {\r\n                      legend: { position: 'top' },\r\n                      title: { display: true, text: '30-Day Attendance Analytics' },\r\n                    },\r\n                  }}\r\n                />\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n      </Tabs>\r\n      <Modal show={showModal} onHide={() => setShowModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{message.includes('successfully') ? 'Success' : 'Error'}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>{message}</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowModal(false)}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FacultyDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}