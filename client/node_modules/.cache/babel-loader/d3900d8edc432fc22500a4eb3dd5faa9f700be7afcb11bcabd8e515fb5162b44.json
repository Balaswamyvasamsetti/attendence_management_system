{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Form,Button,Table,Modal,Card,Alert,Tab,Tabs}from'react-bootstrap';import{Bar}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);function FacultyDashboard(_ref){var _selectedLeaveRequest;let{user,setUser}=_ref;const[sections,setSections]=useState([]);const[selectedSection,setSelectedSection]=useState('');const[selectedSubject,setSelectedSubject]=useState('');const[selectedDate,setSelectedDate]=useState(new Date().toISOString().split('T')[0]);const[students,setStudents]=useState([]);const[attendance,setAttendance]=useState({});const[summary,setSummary]=useState({present:0,absent:0});const[message,setMessage]=useState('');const[showModal,setShowModal]=useState(false);const[schedule,setSchedule]=useState([]);const[newSchedule,setNewSchedule]=useState({day:'',time:'',subject:'',section:''});const[editScheduleId,setEditScheduleId]=useState(null);const[attendanceHistory,setAttendanceHistory]=useState([]);const[analytics,setAnalytics]=useState({});const[notifications,setNotifications]=useState([]);const[profile,setProfile]=useState({name:user.name,email:user.email,profilePicture:user.profilePicture||''});const[showProfileModal,setShowProfileModal]=useState(false);const[announcements,setAnnouncements]=useState([]);const[newAnnouncement,setNewAnnouncement]=useState({title:'',content:''});const[editAnnouncement,setEditAnnouncement]=useState(null);const[showEditAnnouncementModal,setShowEditAnnouncementModal]=useState(false);const[showDeleteAnnouncementModal,setShowDeleteAnnouncementModal]=useState(false);const[deleteAnnouncementId,setDeleteAnnouncementId]=useState(null);const[file,setFile]=useState(null);const[showUploadModal,setShowUploadModal]=useState(false);const[leaveRequests,setLeaveRequests]=useState([]);const[showLeaveActionModal,setShowLeaveActionModal]=useState(false);const[selectedLeaveRequest,setSelectedLeaveRequest]=useState(null);const[showEditAttendanceModal,setShowEditAttendanceModal]=useState(false);const[showConfirmSubmitModal,setShowConfirmSubmitModal]=useState(false);// New state for submit confirmation\nuseEffect(()=>{const fetchSections=async()=>{try{const res=await axios.get('http://localhost:5000/api/sections');setSections(res.data);}catch(err){var _err$response,_err$response$data;addNotification('Failed to fetch sections: '+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.msg)||err.message),'error');}};const fetchSchedule=async()=>{try{const res=await axios.get('http://localhost:5000/api/schedule');setSchedule(res.data);}catch(err){var _err$response2,_err$response2$data;addNotification('Failed to fetch schedule: '+(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.msg)||err.message),'error');}};const fetchAttendanceHistory=async()=>{try{const res=await axios.get('http://localhost:5000/api/attendance');setAttendanceHistory(res.data);}catch(err){var _err$response3,_err$response3$data;addNotification('Failed to fetch attendance history: '+(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.msg)||err.message),'error');}};const fetchAnnouncements=async()=>{try{const res=await axios.get('http://localhost:5000/api/announcements');setAnnouncements(res.data);}catch(err){var _err$response4,_err$response4$data;addNotification('Failed to fetch announcements: '+(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.msg)||err.message),'error');}};const fetchLeaveRequests=async()=>{try{const res=await axios.get(`http://localhost:5000/api/leave-request?facultyId=${user._id}`);setLeaveRequests(res.data);}catch(err){var _err$response5,_err$response5$data;addNotification('Failed to fetch leave requests: '+(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.msg)||err.message),'error');}};fetchSections();fetchSchedule();fetchAttendanceHistory();fetchAnnouncements();fetchLeaveRequests();},[user._id]);const addNotification=function(msg){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';const id=Date.now();setNotifications(prev=>[...prev,{id,msg,type}]);setTimeout(()=>{setNotifications(prev=>prev.filter(n=>n.id!==id));},5000);};const handleFilter=async()=>{if(!selectedDate||new Date(selectedDate).toString()==='Invalid Date'){addNotification('Please select a valid date.','error');return;}if(!selectedSection){addNotification('Please select a section.','error');return;}try{const studentRes=await axios.get(`http://localhost:5000/api/users?section=${selectedSection}`);setStudents(studentRes.data);setSummary({present:0,absent:0});setAttendance({});const dateAttendanceRes=await axios.get(`http://localhost:5000/api/attendance?date=${selectedDate}&section=${selectedSection}`);const initialAttendance=dateAttendanceRes.data.reduce((acc,record)=>{acc[record.studentId]=record.status;return acc;},{});setAttendance(initialAttendance);updateSummary(initialAttendance);const startDate=new Date(selectedDate);startDate.setDate(startDate.getDate()-30);const analyticsRes=await axios.get(`http://localhost:5000/api/attendance?section=${selectedSection}&startDate=${startDate.toISOString()}&endDate=${selectedDate}`);const analyticsData=analyticsRes.data.reduce((acc,record)=>{acc[record.studentId]=acc[record.studentId]||{present:0,absent:0};acc[record.studentId][record.status]++;return acc;},{});setAnalytics(analyticsData);}catch(err){var _err$response6,_err$response6$data;addNotification('Failed to filter students: '+(((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.msg)||err.message),'error');}};const updateSummary=attendanceData=>{const count={present:0,absent:0};Object.values(attendanceData).forEach(status=>{if(status==='present')count.present++;if(status==='absent')count.absent++;});setSummary(count);};const handleAttendanceChange=(studentId,status)=>{setAttendance(prev=>{const newAttendance={...prev,[studentId]:status};updateSummary(newAttendance);return newAttendance;});};const submitAttendance=async function(){let isEdit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!selectedSection||!selectedDate){addNotification('Please select a section and date before submitting.','error');return;}if(Object.keys(attendance).length===0){addNotification('No attendance data to submit.','error');return;}try{// Check if attendance already exists for the date and section\nconst existingRes=await axios.get(`http://localhost:5000/api/attendance?date=${selectedDate}&section=${selectedSection}`);const existingRecords=existingRes.data;// Check if date is in the past\nconst today=new Date();today.setHours(0,0,0,0);// Normalize to start of day\nconst selected=new Date(selectedDate);selected.setHours(0,0,0,0);if(selected<today&&existingRecords.length===0&&!isEdit){addNotification('Cannot submit attendance for past dates.','error');return;}if(existingRecords.length>0&&!isEdit){// Show edit confirmation modal if attendance exists\nsetShowEditAttendanceModal(true);return;}// Show submit confirmation modal for new submissions (not edits)\nif(!isEdit&&existingRecords.length===0){setShowConfirmSubmitModal(true);return;}const subject=selectedSubject||user.subject||'Default Subject';const attendancePromises=Object.entries(attendance).map(async _ref2=>{let[studentId,status]=_ref2;try{const studentRecord=existingRecords.find(record=>record.studentId===studentId);const payload={studentId,section:selectedSection,subject,status,date:selectedDate};if(studentRecord){return axios.put(`http://localhost:5000/api/attendance/${studentRecord._id}`,payload);}else{return axios.post('http://localhost:5000/api/attendance',payload);}}catch(err){var _err$response7,_err$response7$data;throw new Error(`Failed for student ${studentId}: ${((_err$response7=err.response)===null||_err$response7===void 0?void 0:(_err$response7$data=_err$response7.data)===null||_err$response7$data===void 0?void 0:_err$response7$data.msg)||err.message}`);}});await Promise.all(attendancePromises);const historyRes=await axios.get('http://localhost:5000/api/attendance');setAttendanceHistory(historyRes.data);setAttendance({});setSummary({present:0,absent:0});addNotification(`Attendance ${isEdit?'updated':'submitted'} successfully!`,'success');setShowEditAttendanceModal(false);setShowConfirmSubmitModal(false);}catch(err){addNotification(`Failed to submit attendance: ${err.message}`,'error');}};const handleEditAttendanceConfirm=()=>{submitAttendance(true);// Proceed with edit\n};const handleSubmitConfirm=()=>{submitAttendance(false);// Proceed with new submission\n};const exportAttendance=()=>{const csv=[['Student ID','Name','Section','Status','Date','Time'],...students.map(student=>[student.studentId,student.name,student.section,attendance[student.studentId]||'N/A',selectedDate,new Date().toLocaleTimeString()])].map(row=>row.join(',')).join('\\n');const blob=new Blob([csv],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=`attendance_${selectedSection}_${selectedDate}.csv`;a.click();window.URL.revokeObjectURL(url);addNotification('Attendance exported successfully!');};const handleCreateSchedule=async e=>{e.preventDefault();try{await axios.post('http://localhost:5000/api/schedule',newSchedule);setNewSchedule({day:'',time:'',subject:'',section:''});const res=await axios.get('http://localhost:5000/api/schedule');setSchedule(res.data);addNotification('Schedule created successfully!');}catch(err){var _err$response8,_err$response8$data;addNotification('Failed to create schedule: '+(((_err$response8=err.response)===null||_err$response8===void 0?void 0:(_err$response8$data=_err$response8.data)===null||_err$response8$data===void 0?void 0:_err$response8$data.msg)||err.message),'error');}};const handleEditSchedule=id=>{const scheduleToEdit=schedule.find(s=>s._id===id);setNewSchedule({day:scheduleToEdit.day,time:scheduleToEdit.time,subject:scheduleToEdit.subject,section:scheduleToEdit.section});setEditScheduleId(id);};const handleUpdateSchedule=async e=>{e.preventDefault();try{await axios.put(`http://localhost:5000/api/schedule/${editScheduleId}`,newSchedule);setNewSchedule({day:'',time:'',subject:'',section:''});setEditScheduleId(null);const res=await axios.get('http://localhost:5000/api/schedule');setSchedule(res.data);addNotification('Schedule updated successfully!');}catch(err){var _err$response9,_err$response9$data;addNotification('Failed to update schedule: '+(((_err$response9=err.response)===null||_err$response9===void 0?void 0:(_err$response9$data=_err$response9.data)===null||_err$response9$data===void 0?void 0:_err$response9$data.msg)||err.message),'error');}};const handleDeleteSchedule=async id=>{try{await axios.delete(`http://localhost:5000/api/schedule/${id}`);const res=await axios.get('http://localhost:5000/api/schedule');setSchedule(res.data);addNotification('Schedule deleted successfully!');}catch(err){var _err$response10,_err$response10$data;addNotification('Failed to delete schedule: '+(((_err$response10=err.response)===null||_err$response10===void 0?void 0:(_err$response10$data=_err$response10.data)===null||_err$response10$data===void 0?void 0:_err$response10$data.msg)||err.message),'error');}};const handleProfileUpdate=async e=>{e.preventDefault();try{const updatedUser={...user,name:profile.name,email:profile.email,profilePicture:profile.profilePicture};localStorage.setItem('user',JSON.stringify(updatedUser));setUser(updatedUser);setShowProfileModal(false);addNotification('Profile updated successfully!');}catch(err){var _err$response11,_err$response11$data;addNotification('Failed to update profile: '+(((_err$response11=err.response)===null||_err$response11===void 0?void 0:(_err$response11$data=_err$response11.data)===null||_err$response11$data===void 0?void 0:_err$response11$data.msg)||err.message),'error');}};const handleProfilePictureChange=e=>{const file=e.target.files[0];if(file){const reader=new FileReader();reader.onloadend=()=>{setProfile({...profile,profilePicture:reader.result});};reader.readAsDataURL(file);}};const handleCreateAnnouncement=async e=>{e.preventDefault();try{await axios.post('http://localhost:5000/api/announcements',{...newAnnouncement,facultyId:user._id});setNewAnnouncement({title:'',content:''});const res=await axios.get('http://localhost:5000/api/announcements');setAnnouncements(res.data);addNotification('Announcement posted successfully!');}catch(err){var _err$response12,_err$response12$data;addNotification('Failed to post announcement: '+(((_err$response12=err.response)===null||_err$response12===void 0?void 0:(_err$response12$data=_err$response12.data)===null||_err$response12$data===void 0?void 0:_err$response12$data.msg)||err.message),'error');}};const handleEditAnnouncement=announcement=>{setEditAnnouncement({_id:announcement._id,title:announcement.title,content:announcement.content});setShowEditAnnouncementModal(true);};const handleUpdateAnnouncement=async e=>{e.preventDefault();try{await axios.put(`http://localhost:5000/api/announcements/${editAnnouncement._id}`,{title:editAnnouncement.title,content:editAnnouncement.content,facultyId:user._id});setEditAnnouncement(null);setShowEditAnnouncementModal(false);const res=await axios.get('http://localhost:5000/api/announcements');setAnnouncements(res.data);addNotification('Announcement updated successfully!');}catch(err){var _err$response13,_err$response13$data;addNotification('Failed to update announcement: '+(((_err$response13=err.response)===null||_err$response13===void 0?void 0:(_err$response13$data=_err$response13.data)===null||_err$response13$data===void 0?void 0:_err$response13$data.msg)||err.message),'error');}};const handleDeleteAnnouncement=async()=>{try{await axios.delete(`http://localhost:5000/api/announcements/${deleteAnnouncementId}`,{data:{facultyId:user._id}});setShowDeleteAnnouncementModal(false);setDeleteAnnouncementId(null);const res=await axios.get('http://localhost:5000/api/announcements');setAnnouncements(res.data);addNotification('Announcement deleted successfully!');}catch(err){var _err$response14,_err$response14$data;addNotification('Failed to delete announcement: '+(((_err$response14=err.response)===null||_err$response14===void 0?void 0:(_err$response14$data=_err$response14.data)===null||_err$response14$data===void 0?void 0:_err$response14$data.msg)||err.message),'error');}};const openDeleteAnnouncementModal=id=>{setDeleteAnnouncementId(id);setShowDeleteAnnouncementModal(true);};const handleUpload=async e=>{e.preventDefault();if(!file){addNotification('Please select a CSV file to upload.','error');return;}const formData=new FormData();formData.append('csvFile',file);formData.append('section',selectedSection);formData.append('date',selectedDate);formData.append('subject',selectedSubject||user.subject);try{const res=await axios.post('http://localhost:5000/api/attendance/upload',formData,{headers:{'Content-Type':'multipart/form-data'}});setAttendanceHistory(res.data.updatedAttendance);addNotification('Attendance updated successfully from CSV!','success');setFile(null);setShowUploadModal(false);handleFilter();}catch(err){var _err$response15,_err$response15$data;addNotification('Failed to upload CSV: '+(((_err$response15=err.response)===null||_err$response15===void 0?void 0:(_err$response15$data=_err$response15.data)===null||_err$response15$data===void 0?void 0:_err$response15$data.msg)||err.message),'error');}};const handleFileChange=e=>{setFile(e.target.files[0]);};const handleLeaveAction=async(requestId,action)=>{try{await axios.put(`http://localhost:5000/api/leave-request/${requestId}`,{status:action});const res=await axios.get(`http://localhost:5000/api/leave-request?facultyId=${user._id}`);setLeaveRequests(res.data);setShowLeaveActionModal(false);addNotification(`Leave request ${action} successfully!`,'success');}catch(err){var _err$response16,_err$response16$data;addNotification('Failed to update leave request: '+(((_err$response16=err.response)===null||_err$response16===void 0?void 0:(_err$response16$data=_err$response16.data)===null||_err$response16$data===void 0?void 0:_err$response16$data.msg)||err.message),'error');}};const openLeaveActionModal=request=>{setSelectedLeaveRequest(request);setShowLeaveActionModal(true);};const analyticsData={labels:students.map(s=>s.name),datasets:[{label:'Present',data:students.map(s=>{var _analytics$s$studentI;return((_analytics$s$studentI=analytics[s.studentId])===null||_analytics$s$studentI===void 0?void 0:_analytics$s$studentI.present)||0;}),backgroundColor:'#d32f2f'},{label:'Absent',data:students.map(s=>{var _analytics$s$studentI2;return((_analytics$s$studentI2=analytics[s.studentId])===null||_analytics$s$studentI2===void 0?void 0:_analytics$s$studentI2.absent)||0;}),backgroundColor:'#b71c1c'}]};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Subject:\"}),\" \",user.subject]}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",className:\"mb-3\",onClick:()=>setShowProfileModal(true),children:\"Edit Profile\"}),notifications.map(notif=>/*#__PURE__*/_jsx(Alert,{variant:notif.type==='success'?'success':'danger',onClose:()=>setNotifications(prev=>prev.filter(n=>n.id!==notif.id)),dismissible:true,children:notif.msg},notif.id)),/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"attendance\",className:\"mb-4\",children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"attendance\",title:\"Mark Attendance\",children:/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Attendance Management\"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Date\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value),required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Section\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:selectedSection,onChange:e=>setSelectedSection(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Section\"}),sections.map(sec=>/*#__PURE__*/_jsx(\"option\",{value:sec,children:sec},sec))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Subject\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:selectedSubject,onChange:e=>setSelectedSubject(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Subject\"}),/*#__PURE__*/_jsx(\"option\",{value:user.subject,children:user.subject}),schedule.filter(s=>s.section===selectedSection).map(s=>s.subject!==user.subject?/*#__PURE__*/_jsx(\"option\",{value:s.subject,children:s.subject},s._id):null)]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Button,{className:\"btn-danger me-2\",onClick:handleFilter,children:\"Filter Students\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"ms-2\",onClick:()=>setShowUploadModal(true),children:\"Upload Attendance CSV\"})]})]}),students.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"mt-4\",children:[\"Mark Attendance for \",new Date(selectedDate).toLocaleDateString()]}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Student ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Section\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:students.map(student=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:student.studentId}),/*#__PURE__*/_jsx(\"td\",{children:student.name}),/*#__PURE__*/_jsx(\"td\",{children:student.section}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",label:\"Present\",name:`attendance-${student._id}`,checked:attendance[student.studentId]==='present',onChange:()=>handleAttendanceChange(student.studentId,'present')}),/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",label:\"Absent\",name:`attendance-${student._id}`,checked:attendance[student.studentId]==='absent',onChange:()=>handleAttendanceChange(student.studentId,'absent')})]})]},student._id))})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Summary:\"}),\" Present - \",summary.present,\", Absent - \",summary.absent]}),/*#__PURE__*/_jsx(Button,{className:\"btn-danger me-2\",onClick:()=>submitAttendance(),children:\"Submit Attendance\"}),/*#__PURE__*/_jsx(Button,{className:\"btn-danger\",onClick:exportAttendance,children:\"Export to CSV\"})]})]})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"schedule\",title:\"Manage Schedule\",children:/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Class Schedule\"}),/*#__PURE__*/_jsxs(Table,{className:\"schedule-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Day\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Section\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:schedule.map(classItem=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:classItem.day}),/*#__PURE__*/_jsx(\"td\",{children:classItem.time}),/*#__PURE__*/_jsx(\"td\",{children:classItem.subject}),/*#__PURE__*/_jsx(\"td\",{children:classItem.section}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:()=>handleEditSchedule(classItem._id),className:\"me-2\",children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>handleDeleteSchedule(classItem._id),children:\"Delete\"})]})]},classItem._id))})]}),/*#__PURE__*/_jsxs(Form,{onSubmit:editScheduleId?handleUpdateSchedule:handleCreateSchedule,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Day\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:newSchedule.day,onChange:e=>setNewSchedule({...newSchedule,day:e.target.value}),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Day\"}),['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'].map(day=>/*#__PURE__*/_jsx(\"option\",{value:day,children:day},day))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Time\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:newSchedule.time,onChange:e=>setNewSchedule({...newSchedule,time:e.target.value}),placeholder:\"e.g., 10:00 AM - 11:30 AM\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Subject\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:newSchedule.subject,onChange:e=>setNewSchedule({...newSchedule,subject:e.target.value}),placeholder:\"Enter subject\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Section\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:newSchedule.section,onChange:e=>setNewSchedule({...newSchedule,section:e.target.value}),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Section\"}),sections.map(sec=>/*#__PURE__*/_jsx(\"option\",{value:sec,children:sec},sec))]})]})})]}),/*#__PURE__*/_jsx(Button,{className:\"btn-danger\",type:\"submit\",children:editScheduleId?'Update Schedule':'Add Schedule'})]})]})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"analytics\",title:\"Analytics\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Attendance Analytics\"}),Object.keys(analytics).length>0&&/*#__PURE__*/_jsx(Bar,{data:analyticsData,options:{responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:'30-Day Attendance Analytics'}}}})]})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"announcements\",title:\"Announcements\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Post Announcement\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleCreateAnnouncement,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:newAnnouncement.title,onChange:e=>setNewAnnouncement({...newAnnouncement,title:e.target.value}),placeholder:\"Enter announcement title\",required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Content\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:4,value:newAnnouncement.content,onChange:e=>setNewAnnouncement({...newAnnouncement,content:e.target.value}),placeholder:\"Enter announcement content\",required:true})]}),/*#__PURE__*/_jsx(Button,{className:\"btn-danger\",type:\"submit\",children:\"Post Announcement\"})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"mt-4\",children:\"Recent Announcements\"}),announcements.length>0?/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Content\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:announcements.map(ann=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:ann.title}),/*#__PURE__*/_jsx(\"td\",{children:ann.content}),/*#__PURE__*/_jsx(\"td\",{children:new Date(ann.createdAt).toLocaleDateString()}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"warning\",className:\"me-2\",onClick:()=>handleEditAnnouncement(ann),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>openDeleteAnnouncementModal(ann._id),children:\"Delete\"})]})]},ann._id))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No announcements available.\"})]})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"leave-requests\",title:\"Leave Requests\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Leave Requests\"}),leaveRequests.length>0?/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Student Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Student ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Section\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reason\"}),/*#__PURE__*/_jsx(\"th\",{children:\"From Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"To Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:leaveRequests.map(request=>{var _request$studentId;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:((_request$studentId=request.studentId)===null||_request$studentId===void 0?void 0:_request$studentId.name)||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:request.studentCode}),/*#__PURE__*/_jsx(\"td\",{children:request.section}),/*#__PURE__*/_jsx(\"td\",{children:request.reason}),/*#__PURE__*/_jsx(\"td\",{children:new Date(request.fromDate).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:new Date(request.toDate).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:request.status}),/*#__PURE__*/_jsx(\"td\",{children:request.status==='pending'&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Button,{variant:\"success\",className:\"me-2\",onClick:()=>openLeaveActionModal(request),children:\"Review\"})})})]},request._id);})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No leave requests available.\"})]})})})]}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:()=>setShowModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:message.includes('successfully')?'Success':'Error'})}),/*#__PURE__*/_jsx(Modal.Body,{children:message}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{className:\"btn-danger\",onClick:()=>setShowModal(false),children:\"Close\"})})]}),/*#__PURE__*/_jsxs(Modal,{show:showProfileModal,onHide:()=>setShowProfileModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Edit Profile\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleProfileUpdate,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:profile.name,onChange:e=>setProfile({...profile,name:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:profile.email,onChange:e=>setProfile({...profile,email:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Profile Picture\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",accept:\"image/*\",onChange:handleProfilePictureChange}),profile.profilePicture&&/*#__PURE__*/_jsx(\"img\",{src:profile.profilePicture,alt:\"Profile\",className:\"profile-picture-preview\",style:{maxWidth:'100px',marginTop:'10px'}})]}),/*#__PURE__*/_jsx(Button,{className:\"btn-danger\",type:\"submit\",children:\"Save Changes\"})]})})]}),/*#__PURE__*/_jsxs(Modal,{show:showUploadModal,onHide:()=>setShowUploadModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Upload Attendance CSV\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleUpload,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"CSV File\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",accept:\".csv\",onChange:handleFileChange,required:true}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Upload a CSV file with columns: studentId, date, status (e.g., present/absent).\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"btn-primary\",children:\"Upload\"})]})})]}),/*#__PURE__*/_jsxs(Modal,{show:showLeaveActionModal,onHide:()=>setShowLeaveActionModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Review Leave Request\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:selectedLeaveRequest&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Student Name:\"}),\" \",((_selectedLeaveRequest=selectedLeaveRequest.studentId)===null||_selectedLeaveRequest===void 0?void 0:_selectedLeaveRequest.name)||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Student ID:\"}),\" \",selectedLeaveRequest.studentCode]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Section:\"}),\" \",selectedLeaveRequest.section]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Reason:\"}),\" \",selectedLeaveRequest.reason]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"From Date:\"}),\" \",new Date(selectedLeaveRequest.fromDate).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"To Date:\"}),\" \",new Date(selectedLeaveRequest.toDate).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",selectedLeaveRequest.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Proof Document:\"}),' ',/*#__PURE__*/_jsx(\"a\",{href:`http://localhost:5000/${selectedLeaveRequest.proof}`,target:\"_blank\",rel:\"noopener noreferrer\",children:\"View Proof\"})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:()=>handleLeaveAction(selectedLeaveRequest._id,'approved'),children:\"Approve\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>handleLeaveAction(selectedLeaveRequest._id,'rejected'),children:\"Reject\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowLeaveActionModal(false),children:\"Cancel\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showEditAnnouncementModal,onHide:()=>setShowEditAnnouncementModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Edit Announcement\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:editAnnouncement&&/*#__PURE__*/_jsxs(Form,{onSubmit:handleUpdateAnnouncement,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:editAnnouncement.title,onChange:e=>setEditAnnouncement({...editAnnouncement,title:e.target.value}),placeholder:\"Enter announcement title\",required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Content\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:4,value:editAnnouncement.content,onChange:e=>setEditAnnouncement({...editAnnouncement,content:e.target.value}),placeholder:\"Enter announcement content\",required:true})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"btn-primary\",children:\"Update Announcement\"})]})})]}),/*#__PURE__*/_jsxs(Modal,{show:showDeleteAnnouncementModal,onHide:()=>setShowDeleteAnnouncementModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Confirm Deletion\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:\"Are you sure you want to delete this announcement? This action cannot be undone.\"}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowDeleteAnnouncementModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleDeleteAnnouncement,children:\"Delete\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showEditAttendanceModal,onHide:()=>setShowEditAttendanceModal(false),centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Attendance Already Submitted\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[\"Attendance for \",selectedDate,\" has already been submitted for this section. Do you want to edit it?\"]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowEditAttendanceModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleEditAttendanceConfirm,children:\"Edit\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showConfirmSubmitModal,onHide:()=>setShowConfirmSubmitModal(false),centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Confirm Attendance Submission\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[\"Are you sure you want to submit attendance for \",new Date(selectedDate).toLocaleDateString(),\"?\"]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowConfirmSubmitModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSubmitConfirm,children:\"Confirm\"})]})]})]});}export default FacultyDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","Form","Button","Table","Modal","Card","Alert","Tab","Tabs","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","register","FacultyDashboard","_ref","_selectedLeaveRequest","user","setUser","sections","setSections","selectedSection","setSelectedSection","selectedSubject","setSelectedSubject","selectedDate","setSelectedDate","Date","toISOString","split","students","setStudents","attendance","setAttendance","summary","setSummary","present","absent","message","setMessage","showModal","setShowModal","schedule","setSchedule","newSchedule","setNewSchedule","day","time","subject","section","editScheduleId","setEditScheduleId","attendanceHistory","setAttendanceHistory","analytics","setAnalytics","notifications","setNotifications","profile","setProfile","name","email","profilePicture","showProfileModal","setShowProfileModal","announcements","setAnnouncements","newAnnouncement","setNewAnnouncement","title","content","editAnnouncement","setEditAnnouncement","showEditAnnouncementModal","setShowEditAnnouncementModal","showDeleteAnnouncementModal","setShowDeleteAnnouncementModal","deleteAnnouncementId","setDeleteAnnouncementId","file","setFile","showUploadModal","setShowUploadModal","leaveRequests","setLeaveRequests","showLeaveActionModal","setShowLeaveActionModal","selectedLeaveRequest","setSelectedLeaveRequest","showEditAttendanceModal","setShowEditAttendanceModal","showConfirmSubmitModal","setShowConfirmSubmitModal","fetchSections","res","get","data","err","_err$response","_err$response$data","addNotification","response","msg","fetchSchedule","_err$response2","_err$response2$data","fetchAttendanceHistory","_err$response3","_err$response3$data","fetchAnnouncements","_err$response4","_err$response4$data","fetchLeaveRequests","_id","_err$response5","_err$response5$data","type","arguments","length","undefined","id","now","prev","setTimeout","filter","n","handleFilter","toString","studentRes","dateAttendanceRes","initialAttendance","reduce","acc","record","studentId","status","updateSummary","startDate","setDate","getDate","analyticsRes","analyticsData","_err$response6","_err$response6$data","attendanceData","count","Object","values","forEach","handleAttendanceChange","newAttendance","submitAttendance","isEdit","keys","existingRes","existingRecords","today","setHours","selected","attendancePromises","entries","map","_ref2","studentRecord","find","payload","date","put","post","_err$response7","_err$response7$data","Error","Promise","all","historyRes","handleEditAttendanceConfirm","handleSubmitConfirm","exportAttendance","csv","student","toLocaleTimeString","row","join","blob","Blob","url","window","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","handleCreateSchedule","e","preventDefault","_err$response8","_err$response8$data","handleEditSchedule","scheduleToEdit","s","handleUpdateSchedule","_err$response9","_err$response9$data","handleDeleteSchedule","delete","_err$response10","_err$response10$data","handleProfileUpdate","updatedUser","localStorage","setItem","JSON","stringify","_err$response11","_err$response11$data","handleProfilePictureChange","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleCreateAnnouncement","facultyId","_err$response12","_err$response12$data","handleEditAnnouncement","announcement","handleUpdateAnnouncement","_err$response13","_err$response13$data","handleDeleteAnnouncement","_err$response14","_err$response14$data","openDeleteAnnouncementModal","handleUpload","formData","FormData","append","headers","updatedAttendance","_err$response15","_err$response15$data","handleFileChange","handleLeaveAction","requestId","action","_err$response16","_err$response16$data","openLeaveActionModal","request","labels","datasets","label","_analytics$s$studentI","backgroundColor","_analytics$s$studentI2","className","children","variant","onClick","notif","onClose","dismissible","defaultActiveKey","eventKey","Body","Group","Label","Control","value","onChange","required","as","sec","toLocaleDateString","striped","bordered","hover","Check","checked","classItem","onSubmit","placeholder","options","responsive","plugins","legend","position","display","text","rows","ann","createdAt","_request$studentId","studentCode","reason","fromDate","toDate","show","onHide","Header","closeButton","includes","Footer","accept","src","alt","style","maxWidth","marginTop","Text","proof","rel","centered"],"sources":["C:/attendance-system/client/src/components/FacultyDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Form, Button, Table, Modal, Card, Alert, Tab, Tabs } from 'react-bootstrap';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\nfunction FacultyDashboard({ user, setUser }) {\r\n  const [sections, setSections] = useState([]);\r\n  const [selectedSection, setSelectedSection] = useState('');\r\n  const [selectedSubject, setSelectedSubject] = useState('');\r\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\r\n  const [students, setStudents] = useState([]);\r\n  const [attendance, setAttendance] = useState({});\r\n  const [summary, setSummary] = useState({ present: 0, absent: 0 });\r\n  const [message, setMessage] = useState('');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [schedule, setSchedule] = useState([]);\r\n  const [newSchedule, setNewSchedule] = useState({ day: '', time: '', subject: '', section: '' });\r\n  const [editScheduleId, setEditScheduleId] = useState(null);\r\n  const [attendanceHistory, setAttendanceHistory] = useState([]);\r\n  const [analytics, setAnalytics] = useState({});\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [profile, setProfile] = useState({ name: user.name, email: user.email, profilePicture: user.profilePicture || '' });\r\n  const [showProfileModal, setShowProfileModal] = useState(false);\r\n  const [announcements, setAnnouncements] = useState([]);\r\n  const [newAnnouncement, setNewAnnouncement] = useState({ title: '', content: '' });\r\n  const [editAnnouncement, setEditAnnouncement] = useState(null);\r\n  const [showEditAnnouncementModal, setShowEditAnnouncementModal] = useState(false);\r\n  const [showDeleteAnnouncementModal, setShowDeleteAnnouncementModal] = useState(false);\r\n  const [deleteAnnouncementId, setDeleteAnnouncementId] = useState(null);\r\n  const [file, setFile] = useState(null);\r\n  const [showUploadModal, setShowUploadModal] = useState(false);\r\n  const [leaveRequests, setLeaveRequests] = useState([]);\r\n  const [showLeaveActionModal, setShowLeaveActionModal] = useState(false);\r\n  const [selectedLeaveRequest, setSelectedLeaveRequest] = useState(null);\r\n  const [showEditAttendanceModal, setShowEditAttendanceModal] = useState(false);\r\n  const [showConfirmSubmitModal, setShowConfirmSubmitModal] = useState(false); // New state for submit confirmation\r\n\r\n  useEffect(() => {\r\n    const fetchSections = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/sections');\r\n        setSections(res.data);\r\n      } catch (err) {\r\n        addNotification('Failed to fetch sections: ' + (err.response?.data?.msg || err.message), 'error');\r\n      }\r\n    };\r\n    const fetchSchedule = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/schedule');\r\n        setSchedule(res.data);\r\n      } catch (err) {\r\n        addNotification('Failed to fetch schedule: ' + (err.response?.data?.msg || err.message), 'error');\r\n      }\r\n    };\r\n    const fetchAttendanceHistory = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/attendance');\r\n        setAttendanceHistory(res.data);\r\n      } catch (err) {\r\n        addNotification('Failed to fetch attendance history: ' + (err.response?.data?.msg || err.message), 'error');\r\n      }\r\n    };\r\n    const fetchAnnouncements = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/announcements');\r\n        setAnnouncements(res.data);\r\n      } catch (err) {\r\n        addNotification('Failed to fetch announcements: ' + (err.response?.data?.msg || err.message), 'error');\r\n      }\r\n    };\r\n    const fetchLeaveRequests = async () => {\r\n      try {\r\n        const res = await axios.get(`http://localhost:5000/api/leave-request?facultyId=${user._id}`);\r\n        setLeaveRequests(res.data);\r\n      } catch (err) {\r\n        addNotification('Failed to fetch leave requests: ' + (err.response?.data?.msg || err.message), 'error');\r\n      }\r\n    };\r\n    fetchSections();\r\n    fetchSchedule();\r\n    fetchAttendanceHistory();\r\n    fetchAnnouncements();\r\n    fetchLeaveRequests();\r\n  }, [user._id]);\r\n\r\n  const addNotification = (msg, type = 'success') => {\r\n    const id = Date.now();\r\n    setNotifications((prev) => [...prev, { id, msg, type }]);\r\n    setTimeout(() => {\r\n      setNotifications((prev) => prev.filter((n) => n.id !== id));\r\n    }, 5000);\r\n  };\r\n\r\n  const handleFilter = async () => {\r\n    if (!selectedDate || new Date(selectedDate).toString() === 'Invalid Date') {\r\n      addNotification('Please select a valid date.', 'error');\r\n      return;\r\n    }\r\n    if (!selectedSection) {\r\n      addNotification('Please select a section.', 'error');\r\n      return;\r\n    }\r\n    try {\r\n      const studentRes = await axios.get(`http://localhost:5000/api/users?section=${selectedSection}`);\r\n      setStudents(studentRes.data);\r\n      setSummary({ present: 0, absent: 0 });\r\n      setAttendance({});\r\n\r\n      const dateAttendanceRes = await axios.get(\r\n        `http://localhost:5000/api/attendance?date=${selectedDate}&section=${selectedSection}`\r\n      );\r\n      const initialAttendance = dateAttendanceRes.data.reduce((acc, record) => {\r\n        acc[record.studentId] = record.status;\r\n        return acc;\r\n      }, {});\r\n      setAttendance(initialAttendance);\r\n      updateSummary(initialAttendance);\r\n\r\n      const startDate = new Date(selectedDate);\r\n      startDate.setDate(startDate.getDate() - 30);\r\n      const analyticsRes = await axios.get(\r\n        `http://localhost:5000/api/attendance?section=${selectedSection}&startDate=${startDate.toISOString()}&endDate=${selectedDate}`\r\n      );\r\n      const analyticsData = analyticsRes.data.reduce((acc, record) => {\r\n        acc[record.studentId] = acc[record.studentId] || { present: 0, absent: 0 };\r\n        acc[record.studentId][record.status]++;\r\n        return acc;\r\n      }, {});\r\n      setAnalytics(analyticsData);\r\n    } catch (err) {\r\n      addNotification('Failed to filter students: ' + (err.response?.data?.msg || err.message), 'error');\r\n    }\r\n  };\r\n\r\n  const updateSummary = (attendanceData) => {\r\n    const count = { present: 0, absent: 0 };\r\n    Object.values(attendanceData).forEach((status) => {\r\n      if (status === 'present') count.present++;\r\n      if (status === 'absent') count.absent++;\r\n    });\r\n    setSummary(count);\r\n  };\r\n\r\n  const handleAttendanceChange = (studentId, status) => {\r\n    setAttendance((prev) => {\r\n      const newAttendance = { ...prev, [studentId]: status };\r\n      updateSummary(newAttendance);\r\n      return newAttendance;\r\n    });\r\n  };\r\n\r\n  const submitAttendance = async (isEdit = false) => {\r\n    if (!selectedSection || !selectedDate) {\r\n      addNotification('Please select a section and date before submitting.', 'error');\r\n      return;\r\n    }\r\n    if (Object.keys(attendance).length === 0) {\r\n      addNotification('No attendance data to submit.', 'error');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Check if attendance already exists for the date and section\r\n      const existingRes = await axios.get(\r\n        `http://localhost:5000/api/attendance?date=${selectedDate}&section=${selectedSection}`\r\n      );\r\n      const existingRecords = existingRes.data;\r\n\r\n      // Check if date is in the past\r\n      const today = new Date();\r\n      today.setHours(0, 0, 0, 0); // Normalize to start of day\r\n      const selected = new Date(selectedDate);\r\n      selected.setHours(0, 0, 0, 0);\r\n\r\n      if (selected < today && existingRecords.length === 0 && !isEdit) {\r\n        addNotification('Cannot submit attendance for past dates.', 'error');\r\n        return;\r\n      }\r\n\r\n      if (existingRecords.length > 0 && !isEdit) {\r\n        // Show edit confirmation modal if attendance exists\r\n        setShowEditAttendanceModal(true);\r\n        return;\r\n      }\r\n\r\n      // Show submit confirmation modal for new submissions (not edits)\r\n      if (!isEdit && existingRecords.length === 0) {\r\n        setShowConfirmSubmitModal(true);\r\n        return;\r\n      }\r\n\r\n      const subject = selectedSubject || user.subject || 'Default Subject';\r\n      const attendancePromises = Object.entries(attendance).map(async ([studentId, status]) => {\r\n        try {\r\n          const studentRecord = existingRecords.find((record) => record.studentId === studentId);\r\n          const payload = {\r\n            studentId,\r\n            section: selectedSection,\r\n            subject,\r\n            status,\r\n            date: selectedDate,\r\n          };\r\n\r\n          if (studentRecord) {\r\n            return axios.put(`http://localhost:5000/api/attendance/${studentRecord._id}`, payload);\r\n          } else {\r\n            return axios.post('http://localhost:5000/api/attendance', payload);\r\n          }\r\n        } catch (err) {\r\n          throw new Error(`Failed for student ${studentId}: ${err.response?.data?.msg || err.message}`);\r\n        }\r\n      });\r\n\r\n      await Promise.all(attendancePromises);\r\n\r\n      const historyRes = await axios.get('http://localhost:5000/api/attendance');\r\n      setAttendanceHistory(historyRes.data);\r\n      setAttendance({});\r\n      setSummary({ present: 0, absent: 0 });\r\n      addNotification(`Attendance ${isEdit ? 'updated' : 'submitted'} successfully!`, 'success');\r\n      setShowEditAttendanceModal(false);\r\n      setShowConfirmSubmitModal(false);\r\n    } catch (err) {\r\n      addNotification(`Failed to submit attendance: ${err.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  const handleEditAttendanceConfirm = () => {\r\n    submitAttendance(true); // Proceed with edit\r\n  };\r\n\r\n  const handleSubmitConfirm = () => {\r\n    submitAttendance(false); // Proceed with new submission\r\n  };\r\n\r\n  const exportAttendance = () => {\r\n    const csv = [\r\n      ['Student ID', 'Name', 'Section', 'Status', 'Date', 'Time'],\r\n      ...students.map((student) => [\r\n        student.studentId,\r\n        student.name,\r\n        student.section,\r\n        attendance[student.studentId] || 'N/A',\r\n        selectedDate,\r\n        new Date().toLocaleTimeString(),\r\n      ]),\r\n    ]\r\n      .map((row) => row.join(','))\r\n      .join('\\n');\r\n    const blob = new Blob([csv], { type: 'text/csv' });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `attendance_${selectedSection}_${selectedDate}.csv`;\r\n    a.click();\r\n    window.URL.revokeObjectURL(url);\r\n    addNotification('Attendance exported successfully!');\r\n  };\r\n\r\n  const handleCreateSchedule = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('http://localhost:5000/api/schedule', newSchedule);\r\n      setNewSchedule({ day: '', time: '', subject: '', section: '' });\r\n      const res = await axios.get('http://localhost:5000/api/schedule');\r\n      setSchedule(res.data);\r\n      addNotification('Schedule created successfully!');\r\n    } catch (err) {\r\n      addNotification('Failed to create schedule: ' + (err.response?.data?.msg || err.message), 'error');\r\n    }\r\n  };\r\n\r\n  const handleEditSchedule = (id) => {\r\n    const scheduleToEdit = schedule.find((s) => s._id === id);\r\n    setNewSchedule({\r\n      day: scheduleToEdit.day,\r\n      time: scheduleToEdit.time,\r\n      subject: scheduleToEdit.subject,\r\n      section: scheduleToEdit.section,\r\n    });\r\n    setEditScheduleId(id);\r\n  };\r\n\r\n  const handleUpdateSchedule = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.put(`http://localhost:5000/api/schedule/${editScheduleId}`, newSchedule);\r\n      setNewSchedule({ day: '', time: '', subject: '', section: '' });\r\n      setEditScheduleId(null);\r\n      const res = await axios.get('http://localhost:5000/api/schedule');\r\n      setSchedule(res.data);\r\n      addNotification('Schedule updated successfully!');\r\n    } catch (err) {\r\n      addNotification('Failed to update schedule: ' + (err.response?.data?.msg || err.message), 'error');\r\n    }\r\n  };\r\n\r\n  const handleDeleteSchedule = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/api/schedule/${id}`);\r\n      const res = await axios.get('http://localhost:5000/api/schedule');\r\n      setSchedule(res.data);\r\n      addNotification('Schedule deleted successfully!');\r\n    } catch (err) {\r\n      addNotification('Failed to delete schedule: ' + (err.response?.data?.msg || err.message), 'error');\r\n    }\r\n  };\r\n\r\n  const handleProfileUpdate = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const updatedUser = {\r\n        ...user,\r\n        name: profile.name,\r\n        email: profile.email,\r\n        profilePicture: profile.profilePicture,\r\n      };\r\n      localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      setUser(updatedUser);\r\n      setShowProfileModal(false);\r\n      addNotification('Profile updated successfully!');\r\n    } catch (err) {\r\n      addNotification('Failed to update profile: ' + (err.response?.data?.msg || err.message), 'error');\r\n    }\r\n  };\r\n\r\n  const handleProfilePictureChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setProfile({ ...profile, profilePicture: reader.result });\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleCreateAnnouncement = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('http://localhost:5000/api/announcements', {\r\n        ...newAnnouncement,\r\n        facultyId: user._id,\r\n      });\r\n      setNewAnnouncement({ title: '', content: '' });\r\n      const res = await axios.get('http://localhost:5000/api/announcements');\r\n      setAnnouncements(res.data);\r\n      addNotification('Announcement posted successfully!');\r\n    } catch (err) {\r\n      addNotification('Failed to post announcement: ' + (err.response?.data?.msg || err.message), 'error');\r\n    }\r\n  };\r\n\r\n  const handleEditAnnouncement = (announcement) => {\r\n    setEditAnnouncement({ _id: announcement._id, title: announcement.title, content: announcement.content });\r\n    setShowEditAnnouncementModal(true);\r\n  };\r\n\r\n  const handleUpdateAnnouncement = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.put(`http://localhost:5000/api/announcements/${editAnnouncement._id}`, {\r\n        title: editAnnouncement.title,\r\n        content: editAnnouncement.content,\r\n        facultyId: user._id,\r\n      });\r\n      setEditAnnouncement(null);\r\n      setShowEditAnnouncementModal(false);\r\n      const res = await axios.get('http://localhost:5000/api/announcements');\r\n      setAnnouncements(res.data);\r\n      addNotification('Announcement updated successfully!');\r\n    } catch (err) {\r\n      addNotification('Failed to update announcement: ' + (err.response?.data?.msg || err.message), 'error');\r\n    }\r\n  };\r\n\r\n  const handleDeleteAnnouncement = async () => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/api/announcements/${deleteAnnouncementId}`, {\r\n        data: { facultyId: user._id },\r\n      });\r\n      setShowDeleteAnnouncementModal(false);\r\n      setDeleteAnnouncementId(null);\r\n      const res = await axios.get('http://localhost:5000/api/announcements');\r\n      setAnnouncements(res.data);\r\n      addNotification('Announcement deleted successfully!');\r\n    } catch (err) {\r\n      addNotification('Failed to delete announcement: ' + (err.response?.data?.msg || err.message), 'error');\r\n    }\r\n  };\r\n\r\n  const openDeleteAnnouncementModal = (id) => {\r\n    setDeleteAnnouncementId(id);\r\n    setShowDeleteAnnouncementModal(true);\r\n  };\r\n\r\n  const handleUpload = async (e) => {\r\n    e.preventDefault();\r\n    if (!file) {\r\n      addNotification('Please select a CSV file to upload.', 'error');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('csvFile', file);\r\n    formData.append('section', selectedSection);\r\n    formData.append('date', selectedDate);\r\n    formData.append('subject', selectedSubject || user.subject);\r\n\r\n    try {\r\n      const res = await axios.post('http://localhost:5000/api/attendance/upload', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n      setAttendanceHistory(res.data.updatedAttendance);\r\n      addNotification('Attendance updated successfully from CSV!', 'success');\r\n      setFile(null);\r\n      setShowUploadModal(false);\r\n      handleFilter();\r\n    } catch (err) {\r\n      addNotification('Failed to upload CSV: ' + (err.response?.data?.msg || err.message), 'error');\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleLeaveAction = async (requestId, action) => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/api/leave-request/${requestId}`, { status: action });\r\n      const res = await axios.get(`http://localhost:5000/api/leave-request?facultyId=${user._id}`);\r\n      setLeaveRequests(res.data);\r\n      setShowLeaveActionModal(false);\r\n      addNotification(`Leave request ${action} successfully!`, 'success');\r\n    } catch (err) {\r\n      addNotification('Failed to update leave request: ' + (err.response?.data?.msg || err.message), 'error');\r\n    }\r\n  };\r\n\r\n  const openLeaveActionModal = (request) => {\r\n    setSelectedLeaveRequest(request);\r\n    setShowLeaveActionModal(true);\r\n  };\r\n\r\n  const analyticsData = {\r\n    labels: students.map((s) => s.name),\r\n    datasets: [\r\n      {\r\n        label: 'Present',\r\n        data: students.map((s) => analytics[s.studentId]?.present || 0),\r\n        backgroundColor: '#d32f2f',\r\n      },\r\n      {\r\n        label: 'Absent',\r\n        data: students.map((s) => analytics[s.studentId]?.absent || 0),\r\n        backgroundColor: '#b71c1c',\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-content\">\r\n      <h2>Welcome, {user.name}</h2>\r\n      <p><strong>Subject:</strong> {user.subject}</p>\r\n      <Button variant=\"secondary\" className=\"mb-3\" onClick={() => setShowProfileModal(true)}>\r\n        Edit Profile\r\n      </Button>\r\n      {notifications.map((notif) => (\r\n        <Alert\r\n          key={notif.id}\r\n          variant={notif.type === 'success' ? 'success' : 'danger'}\r\n          onClose={() => setNotifications((prev) => prev.filter((n) => n.id !== notif.id))}\r\n          dismissible\r\n        >\r\n          {notif.msg}\r\n        </Alert>\r\n      ))}\r\n      <Tabs defaultActiveKey=\"attendance\" className=\"mb-4\">\r\n        <Tab eventKey=\"attendance\" title=\"Mark Attendance\">\r\n          <Card className=\"mb-4\">\r\n            <Card.Body>\r\n              <Card.Title>Attendance Management</Card.Title>\r\n              <Form>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-4\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Date</Form.Label>\r\n                      <Form.Control\r\n                        type=\"date\"\r\n                        value={selectedDate}\r\n                        onChange={(e) => setSelectedDate(e.target.value)}\r\n                        required\r\n                      />\r\n                    </Form.Group>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Section</Form.Label>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={selectedSection}\r\n                        onChange={(e) => setSelectedSection(e.target.value)}\r\n                      >\r\n                        <option value=\"\">Select Section</option>\r\n                        {sections.map((sec) => (\r\n                          <option key={sec} value={sec}>\r\n                            {sec}\r\n                          </option>\r\n                        ))}\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Subject</Form.Label>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={selectedSubject}\r\n                        onChange={(e) => setSelectedSubject(e.target.value)}\r\n                      >\r\n                        <option value=\"\">Select Subject</option>\r\n                        <option value={user.subject}>{user.subject}</option>\r\n                        {schedule\r\n                          .filter((s) => s.section === selectedSection)\r\n                          .map((s) =>\r\n                            s.subject !== user.subject ? (\r\n                              <option key={s._id} value={s.subject}>\r\n                                {s.subject}\r\n                              </option>\r\n                            ) : null\r\n                          )}\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-3\">\r\n                  <Button className=\"btn-danger me-2\" onClick={handleFilter}>\r\n                    Filter Students\r\n                  </Button>\r\n                  <Button variant=\"primary\" className=\"ms-2\" onClick={() => setShowUploadModal(true)}>\r\n                    Upload Attendance CSV\r\n                  </Button>\r\n                </div>\r\n              </Form>\r\n              {students.length > 0 && (\r\n                <>\r\n                  <h4 className=\"mt-4\">Mark Attendance for {new Date(selectedDate).toLocaleDateString()}</h4>\r\n                  <Table striped bordered hover>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Student ID</th>\r\n                        <th>Name</th>\r\n                        <th>Section</th>\r\n                        <th>Status</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {students.map((student) => (\r\n                        <tr key={student._id}>\r\n                          <td>{student.studentId}</td>\r\n                          <td>{student.name}</td>\r\n                          <td>{student.section}</td>\r\n                          <td>\r\n                            <Form.Check\r\n                              type=\"radio\"\r\n                              label=\"Present\"\r\n                              name={`attendance-${student._id}`}\r\n                              checked={attendance[student.studentId] === 'present'}\r\n                              onChange={() => handleAttendanceChange(student.studentId, 'present')}\r\n                            />\r\n                            <Form.Check\r\n                              type=\"radio\"\r\n                              label=\"Absent\"\r\n                              name={`attendance-${student._id}`}\r\n                              checked={attendance[student.studentId] === 'absent'}\r\n                              onChange={() => handleAttendanceChange(student.studentId, 'absent')}\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                  <p>\r\n                    <strong>Summary:</strong> Present - {summary.present}, Absent - {summary.absent}\r\n                  </p>\r\n                  <Button className=\"btn-danger me-2\" onClick={() => submitAttendance()}>\r\n                    Submit Attendance\r\n                  </Button>\r\n                  <Button className=\"btn-danger\" onClick={exportAttendance}>\r\n                    Export to CSV\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n        <Tab eventKey=\"schedule\" title=\"Manage Schedule\">\r\n          <Card className=\"mb-4\">\r\n            <Card.Body>\r\n              <Card.Title>Class Schedule</Card.Title>\r\n              <Table className=\"schedule-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Day</th>\r\n                    <th>Time</th>\r\n                    <th>Subject</th>\r\n                    <th>Section</th>\r\n                    <th>Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {schedule.map((classItem) => (\r\n                    <tr key={classItem._id}>\r\n                      <td>{classItem.day}</td>\r\n                      <td>{classItem.time}</td>\r\n                      <td>{classItem.subject}</td>\r\n                      <td>{classItem.section}</td>\r\n                      <td>\r\n                        <Button\r\n                          variant=\"warning\"\r\n                          onClick={() => handleEditSchedule(classItem._id)}\r\n                          className=\"me-2\"\r\n                        >\r\n                          Edit\r\n                        </Button>\r\n                        <Button variant=\"danger\" onClick={() => handleDeleteSchedule(classItem._id)}>\r\n                          Delete\r\n                        </Button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n              <Form onSubmit={editScheduleId ? handleUpdateSchedule : handleCreateSchedule}>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-3\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Day</Form.Label>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={newSchedule.day}\r\n                        onChange={(e) => setNewSchedule({ ...newSchedule, day: e.target.value })}\r\n                        required\r\n                      >\r\n                        <option value=\"\">Select Day</option>\r\n                        {['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].map(\r\n                          (day) => (\r\n                            <option key={day} value={day}>\r\n                              {day}\r\n                            </option>\r\n                          )\r\n                        )}\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Time</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        value={newSchedule.time}\r\n                        onChange={(e) => setNewSchedule({ ...newSchedule, time: e.target.value })}\r\n                        placeholder=\"e.g., 10:00 AM - 11:30 AM\"\r\n                        required\r\n                      />\r\n                    </Form.Group>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Subject</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        value={newSchedule.subject}\r\n                        onChange={(e) => setNewSchedule({ ...newSchedule, subject: e.target.value })}\r\n                        placeholder=\"Enter subject\"\r\n                        required\r\n                      />\r\n                    </Form.Group>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <Form.Group className=\"form-group\">\r\n                      <Form.Label>Section</Form.Label>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={newSchedule.section}\r\n                        onChange={(e) => setNewSchedule({ ...newSchedule, section: e.target.value })}\r\n                        required\r\n                      >\r\n                        <option value=\"\">Select Section</option>\r\n                        {sections.map((sec) => (\r\n                          <option key={sec} value={sec}>\r\n                            {sec}\r\n                          </option>\r\n                        ))}\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n                  </div>\r\n                </div>\r\n                <Button className=\"btn-danger\" type=\"submit\">\r\n                  {editScheduleId ? 'Update Schedule' : 'Add Schedule'}\r\n                </Button>\r\n              </Form>\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n        <Tab eventKey=\"analytics\" title=\"Analytics\">\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Attendance Analytics</Card.Title>\r\n              {Object.keys(analytics).length > 0 && (\r\n                <Bar\r\n                  data={analyticsData}\r\n                  options={{\r\n                    responsive: true,\r\n                    plugins: {\r\n                      legend: { position: 'top' },\r\n                      title: { display: true, text: '30-Day Attendance Analytics' },\r\n                    },\r\n                  }}\r\n                />\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n        <Tab eventKey=\"announcements\" title=\"Announcements\">\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Post Announcement</Card.Title>\r\n              <Form onSubmit={handleCreateAnnouncement}>\r\n                <Form.Group className=\"form-group\">\r\n                  <Form.Label>Title</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    value={newAnnouncement.title}\r\n                    onChange={(e) => setNewAnnouncement({ ...newAnnouncement, title: e.target.value })}\r\n                    placeholder=\"Enter announcement title\"\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group className=\"form-group\">\r\n                  <Form.Label>Content</Form.Label>\r\n                  <Form.Control\r\n                    as=\"textarea\"\r\n                    rows={4}\r\n                    value={newAnnouncement.content}\r\n                    onChange={(e) => setNewAnnouncement({ ...newAnnouncement, content: e.target.value })}\r\n                    placeholder=\"Enter announcement content\"\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n                <Button className=\"btn-danger\" type=\"submit\">\r\n                  Post Announcement\r\n                </Button>\r\n              </Form>\r\n              <h4 className=\"mt-4\">Recent Announcements</h4>\r\n              {announcements.length > 0 ? (\r\n                <Table striped bordered hover>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Title</th>\r\n                      <th>Content</th>\r\n                      <th>Date</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {announcements.map((ann) => (\r\n                      <tr key={ann._id}>\r\n                        <td>{ann.title}</td>\r\n                        <td>{ann.content}</td>\r\n                        <td>{new Date(ann.createdAt).toLocaleDateString()}</td>\r\n                        <td>\r\n                          <Button\r\n                            variant=\"warning\"\r\n                            className=\"me-2\"\r\n                            onClick={() => handleEditAnnouncement(ann)}\r\n                          >\r\n                            Edit\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"danger\"\r\n                            onClick={() => openDeleteAnnouncementModal(ann._id)}\r\n                          >\r\n                            Delete\r\n                          </Button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              ) : (\r\n                <p>No announcements available.</p>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n        <Tab eventKey=\"leave-requests\" title=\"Leave Requests\">\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Leave Requests</Card.Title>\r\n              {leaveRequests.length > 0 ? (\r\n                <Table striped bordered hover>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Student Name</th>\r\n                      <th>Student ID</th>\r\n                      <th>Section</th>\r\n                      <th>Reason</th>\r\n                      <th>From Date</th>\r\n                      <th>To Date</th>\r\n                      <th>Status</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {leaveRequests.map((request) => (\r\n                      <tr key={request._id}>\r\n                        <td>{request.studentId?.name || 'N/A'}</td>\r\n                        <td>{request.studentCode}</td>\r\n                        <td>{request.section}</td>\r\n                        <td>{request.reason}</td>\r\n                        <td>{new Date(request.fromDate).toLocaleDateString()}</td>\r\n                        <td>{new Date(request.toDate).toLocaleDateString()}</td>\r\n                        <td>{request.status}</td>\r\n                        <td>\r\n                          {request.status === 'pending' && (\r\n                            <>\r\n                              <Button\r\n                                variant=\"success\"\r\n                                className=\"me-2\"\r\n                                onClick={() => openLeaveActionModal(request)}\r\n                              >\r\n                                Review\r\n                              </Button>\r\n                            </>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              ) : (\r\n                <p>No leave requests available.</p>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n      </Tabs>\r\n      <Modal show={showModal} onHide={() => setShowModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{message.includes('successfully') ? 'Success' : 'Error'}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>{message}</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button className=\"btn-danger\" onClick={() => setShowModal(false)}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Modal show={showProfileModal} onHide={() => setShowProfileModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Edit Profile</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form onSubmit={handleProfileUpdate}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                value={profile.name}\r\n                onChange={(e) => setProfile({ ...profile, name: e.target.value })}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                value={profile.email}\r\n                onChange={(e) => setProfile({ ...profile, email: e.target.value })}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Profile Picture</Form.Label>\r\n              <Form.Control\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleProfilePictureChange}\r\n              />\r\n              {profile.profilePicture && (\r\n                <img\r\n                  src={profile.profilePicture}\r\n                  alt=\"Profile\"\r\n                  className=\"profile-picture-preview\"\r\n                  style={{ maxWidth: '100px', marginTop: '10px' }}\r\n                />\r\n              )}\r\n            </Form.Group>\r\n            <Button className=\"btn-danger\" type=\"submit\">\r\n              Save Changes\r\n            </Button>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n      <Modal show={showUploadModal} onHide={() => setShowUploadModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Upload Attendance CSV</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form onSubmit={handleUpload}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>CSV File</Form.Label>\r\n              <Form.Control\r\n                type=\"file\"\r\n                accept=\".csv\"\r\n                onChange={handleFileChange}\r\n                required\r\n              />\r\n              <Form.Text className=\"text-muted\">\r\n                Upload a CSV file with columns: studentId, date, status (e.g., present/absent).\r\n              </Form.Text>\r\n            </Form.Group>\r\n            <Button type=\"submit\" className=\"btn-primary\">\r\n              Upload\r\n            </Button>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n      <Modal show={showLeaveActionModal} onHide={() => setShowLeaveActionModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Review Leave Request</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {selectedLeaveRequest && (\r\n            <>\r\n              <p><strong>Student Name:</strong> {selectedLeaveRequest.studentId?.name || 'N/A'}</p>\r\n              <p><strong>Student ID:</strong> {selectedLeaveRequest.studentCode}</p>\r\n              <p><strong>Section:</strong> {selectedLeaveRequest.section}</p>\r\n              <p><strong>Reason:</strong> {selectedLeaveRequest.reason}</p>\r\n              <p><strong>From Date:</strong> {new Date(selectedLeaveRequest.fromDate).toLocaleDateString()}</p>\r\n              <p><strong>To Date:</strong> {new Date(selectedLeaveRequest.toDate).toLocaleDateString()}</p>\r\n              <p><strong>Status:</strong> {selectedLeaveRequest.status}</p>\r\n              <p>\r\n                <strong>Proof Document:</strong>{' '}\r\n                <a href={`http://localhost:5000/${selectedLeaveRequest.proof}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  View Proof\r\n                </a>\r\n              </p>\r\n            </>\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button\r\n            variant=\"success\"\r\n            onClick={() => handleLeaveAction(selectedLeaveRequest._id, 'approved')}\r\n          >\r\n            Approve\r\n          </Button>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => handleLeaveAction(selectedLeaveRequest._id, 'rejected')}\r\n          >\r\n            Reject\r\n          </Button>\r\n          <Button variant=\"secondary\" onClick={() => setShowLeaveActionModal(false)}>\r\n            Cancel\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Modal show={showEditAnnouncementModal} onHide={() => setShowEditAnnouncementModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Edit Announcement</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {editAnnouncement && (\r\n            <Form onSubmit={handleUpdateAnnouncement}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Title</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={editAnnouncement.title}\r\n                  onChange={(e) => setEditAnnouncement({ ...editAnnouncement, title: e.target.value })}\r\n                  placeholder=\"Enter announcement title\"\r\n                  required\r\n                />\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Content</Form.Label>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  rows={4}\r\n                  value={editAnnouncement.content}\r\n                  onChange={(e) => setEditAnnouncement({ ...editAnnouncement, content: e.target.value })}\r\n                  placeholder=\"Enter announcement content\"\r\n                  required\r\n                />\r\n              </Form.Group>\r\n              <Button type=\"submit\" className=\"btn-primary\">\r\n                Update Announcement\r\n              </Button>\r\n            </Form>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n      <Modal show={showDeleteAnnouncementModal} onHide={() => setShowDeleteAnnouncementModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm Deletion</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          Are you sure you want to delete this announcement? This action cannot be undone.\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowDeleteAnnouncementModal(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={handleDeleteAnnouncement}>\r\n            Delete\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Modal\r\n        show={showEditAttendanceModal}\r\n        onHide={() => setShowEditAttendanceModal(false)}\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Attendance Already Submitted</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          Attendance for {selectedDate} has already been submitted for this section. Do you want to edit it?\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowEditAttendanceModal(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleEditAttendanceConfirm}>\r\n            Edit\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Modal\r\n        show={showConfirmSubmitModal}\r\n        onHide={() => setShowConfirmSubmitModal(false)}\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm Attendance Submission</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          Are you sure you want to submit attendance for {new Date(selectedDate).toLocaleDateString()}?\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowConfirmSubmitModal(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleSubmitConfirm}>\r\n            Confirm\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FacultyDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}